window.mouseflowAutoStart = false;
if (typeof mfRecord === 'undefined') {
  var mfRecord = '1'; 
}setTimeout(function() {
function loadMouseflow() { 
if (typeof mouseflow !== 'undefined' && window.name.indexOf('mf_liveHeatmaps') < 0 && mfRecord !== '0') {
    mouseflow.start();
}
document.removeEventListener('mousemove', loadMouseflow);
document.removeEventListener('touchstart', loadMouseflow);
document.removeEventListener('scroll', loadMouseflow);
}
document.addEventListener('mousemove', loadMouseflow);
document.addEventListener('touchstart', loadMouseflow);
document.addEventListener('scroll', loadMouseflow);
}, 500);var mouseflowDisableKeyLogging = true;if(typeof mouseflow==='undefined'&&typeof mouseflowPlayback==='undefined'){(function(){var _533=false;var _534=false;var _530=[];var _497=[];var _38='https://eu.mouseflow.com';var _544=false;var _400=(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t){return"object"==typeof t&&null!==t&&t.nodeType===Node.ELEMENT_NODE}t.r(e),t.d(e,{default:()=>Q,getCssSelector:()=>K});const r={NONE:"",DESCENDANT:" ",CHILD:" > "},o={id:"id",class:"class",tag:"tag",attribute:"attribute",nthchild:"nthchild",nthoftype:"nthoftype"},i="CssSelectorGenerator";function c(t="unknown problem",...e){console.warn(`${i}: ${t}`,...e)}const u={selectors:[o.id,o.class,o.tag,o.attribute],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0,root:null,maxCombinations:Number.POSITIVE_INFINITY,maxCandidates:Number.POSITIVE_INFINITY};function s(t){return t instanceof RegExp}function a(t){return["string","function"].includes(typeof t)||s(t)}function l(t){return Array.isArray(t)?t.filter(a):[]}function f(t){const e=[Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE];return function(t){return t instanceof Node}(t)&&e.includes(t.nodeType)}function d(t,e){if(f(t))return t.contains(e)||c("element root mismatch","Provided root does not contain the element. This will most likely result in producing a fallback selector using element's real root node. If you plan to use the selector using provided root (e.g. `root.querySelector`), it will not work as intended."),t;const n=e.getRootNode({composed:!1});return f(n)?(n!==document&&c("shadow root inferred","You did not provide a root and the element is a child of Shadow DOM. This will produce a selector using ShadowRoot as a root. If you plan to use the selector using document as a root (e.g. `document.querySelector`), it will not work as intended."),n):S(e)}function m(t){return"number"==typeof t?t:Number.POSITIVE_INFINITY}function p(t=[]){const[e=[],...n]=t;return 0===n.length?e:n.reduce(((t,e)=>t.filter((t=>e.includes(t)))),e)}function g(t){return[].concat(...t)}function h(t){const e=t.map((t=>{if(s(t))return e=>t.test(e);if("function"==typeof t)return e=>{const n=t(e);return"boolean"!=typeof n?(c("pattern matcher function invalid","Provided pattern matching function does not return boolean. It's result will be ignored.",t),!1):n};if("string"==typeof t){const e=new RegExp("^"+t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".+")+"$");return t=>e.test(t)}return c("pattern matcher invalid","Pattern matching only accepts strings, regular expressions and/or functions. This item is invalid and will be ignored.",t),()=>!1}));return t=>e.some((e=>e(t)))}function b(t,e,n){const r=Array.from(d(n,t[0]).querySelectorAll(e));return r.length===t.length&&t.every((t=>r.includes(t)))}function y(t,e){e=null!=e?e:S(t);const r=[];let o=t;for(;n(o)&&o!==e;)r.push(o),o=o.parentElement;return r}function N(t,e){return p(t.map((t=>y(t,e))))}function S(t){return t.ownerDocument.querySelector(":root")}const E=", ",v=new RegExp(["^$","\\s"].join("|")),w=new RegExp(["^$"].join("|")),I=[o.nthoftype,o.tag,o.id,o.class,o.attribute,o.nthchild],T=h(["class","id","ng-*"]);function O({name:t}){return`[${t}]`}function C({name:t,value:e}){return`[${t}='${e}']`}function x({nodeName:t,nodeValue:e}){return{name:Y(t),value:Y(null!=e?e:void 0)}}function j(t){const e=Array.from(t.attributes).filter((e=>function({nodeName:t,nodeValue:e},n){const r=n.tagName.toLowerCase();return!(["input","option"].includes(r)&&"value"===t||"src"===t&&(null==e?void 0:e.startsWith("data:"))||T(t))}(e,t))).map(x);return[...e.map(O),...e.map(C)]}function A(t){var e;return(null!==(e=t.getAttribute("class"))&&void 0!==e?e:"").trim().split(/\s+/).filter((t=>!w.test(t))).map((t=>`.${Y(t)}`))}function $(t){var e;const n=null!==(e=t.getAttribute("id"))&&void 0!==e?e:"",r=`#${Y(n)}`,o=t.getRootNode({composed:!1});return!v.test(n)&&b([t],r,o)?[r]:[]}function D(t){const e=t.parentNode;if(e){const r=Array.from(e.childNodes).filter(n).indexOf(t);if(r>-1)return[`:nth-child(${String(r+1)})`]}return[]}function R(t){return[Y(t.tagName.toLowerCase())]}function P(t){const e=[...new Set(g(t.map(R)))];return 0===e.length||e.length>1?[]:[e[0]]}function _(t){const e=P([t])[0],n=t.parentElement;if(n){const r=Array.from(n.children).filter((t=>t.tagName.toLowerCase()===e)),o=r.indexOf(t);if(o>-1)return[`${e}:nth-of-type(${String(o+1)})`]}return[]}function k(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){return Array.from(function*(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){let n=0,r=M(1);for(;r.length<=t.length&&n<e;){n+=1;const e=r.map((e=>t[e]));yield e,r=L(r,t.length-1)}}(t,{maxResults:e}))}function L(t=[],e=0){const n=t.length;if(0===n)return[];const r=[...t];r[n-1]+=1;for(let t=n-1;t>=0;t--)if(r[t]>e){if(0===t)return M(n+1);r[t-1]++,r[t]=r[t-1]+1}return r[n-1]>e?M(n+1):r}function M(t=1){return Array.from(Array(t).keys())}const V=":".charCodeAt(0).toString(16).toUpperCase(),F=/[ !"#$%&'()\[\]{|}<>*+,./;=?@^`~\\]/;function Y(t=""){return CSS?CSS.escape(t):function(t=""){return t.split("").map((t=>":"===t?`\\${V} `:F.test(t)?`\\${t}`:escape(t).replace(/%/g,"\\"))).join("")}(t)}const W={tag:P,id:function(t){return 0===t.length||t.length>1?[]:$(t[0])},class:function(t){return p(t.map(A))},attribute:function(t){return p(t.map(j))},nthchild:function(t){return p(t.map(D))},nthoftype:function(t){return p(t.map(_))}},q={tag:R,id:$,class:A,attribute:j,nthchild:D,nthoftype:_};function B(t){return t.includes(o.tag)||t.includes(o.nthoftype)?[...t]:[...t,o.tag]}function G(t={}){const e=[...I];return t[o.tag]&&t[o.nthoftype]&&e.splice(e.indexOf(o.tag),1),e.map((e=>{return(r=t)[n=e]?r[n].join(""):"";var n,r})).join("")}function H(t,e,n="",o){const i=function(t,e){return""===e?t:function(t,e){return[...t.map((t=>e+r.DESCENDANT+t)),...t.map((t=>e+r.CHILD+t))]}(t,e)}(function(t,e,n){const r=function(t,e){const{blacklist:n,whitelist:r,combineWithinSelector:o,maxCombinations:i}=e,c=h(n),u=h(r);return function(t){const{selectors:e,includeTag:n}=t,r=[...e];return n&&!r.includes("tag")&&r.push("tag"),r}(e).reduce(((e,n)=>{const r=function(t,e){return(0,W[e])(t)}(t,n),s=function(t=[],e,n){return t.filter((t=>n(t)||!e(t)))}(r,c,u),a=function(t=[],e){return t.sort(((t,n)=>{const r=e(t),o=e(n);return r&&!o?-1:!r&&o?1:0}))}(s,u);return e[n]=o?k(a,{maxResults:i}):a.map((t=>[t])),e}),{})}(t,n),o=function(t,e){return function(t){const{selectors:e,combineBetweenSelectors:n,includeTag:r,maxCandidates:o}=t,i=n?k(e,{maxResults:o}):e.map((t=>[t]));return r?i.map(B):i}(e).map((e=>function(t,e){const n={};return t.forEach((t=>{const r=e[t];r&&r.length>0&&(n[t]=r)})),function(t={}){let e=[];return Object.entries(t).forEach((([t,n])=>{e=n.flatMap((n=>0===e.length?[{[t]:n}]:e.map((e=>Object.assign(Object.assign({},e),{[t]:n})))))})),e}(n).map(G)}(e,t))).filter((t=>t.length>0))}(r,n),i=g(o);return[...new Set(i)]}(t,0,o),n);for(const n of i)if(b(t,n,e))return n;return null}function U(t){return{value:t,include:!1}}function z({selectors:t,operator:e}){let n=[...I];t[o.tag]&&t[o.nthoftype]&&(n=n.filter((t=>t!==o.tag)));let r="";return n.forEach((e=>{var n;(null!==(n=t[e])&&void 0!==n?n:[]).forEach((({value:t,include:e})=>{e&&(r+=t)}))})),e+r}function J(t){return[":root",...y(t).reverse().map((t=>{const e=function(t,e,n=r.NONE){const o={};return e.forEach((e=>{Reflect.set(o,e,function(t,e){return q[e](t)}(t,e).map(U))})),{element:t,operator:n,selectors:o}}(t,[o.nthchild],r.CHILD);return e.selectors.nthchild.forEach((t=>{t.include=!0})),e})).map(z)].join("")}function K(t,e={}){var r;const i=function(t){(t instanceof NodeList||t instanceof HTMLCollection)&&(t=Array.from(t));const e=(Array.isArray(t)?t:[t]).filter(n);return[...new Set(e)]}(t),c=function(t,e={}){const n=Object.assign(Object.assign({},u),e);return{selectors:(r=n.selectors,Array.isArray(r)?r.filter((t=>{return e=o,n=t,Object.values(e).includes(n);var e,n})):[]),whitelist:l(n.whitelist),blacklist:l(n.blacklist),root:d(n.root,t),combineWithinSelector:!!n.combineWithinSelector,combineBetweenSelectors:!!n.combineBetweenSelectors,includeTag:!!n.includeTag,maxCombinations:m(n.maxCombinations),maxCandidates:m(n.maxCandidates)};var r}(i[0],e),s=null!==(r=c.root)&&void 0!==r?r:S(i[0]);let a="",f=s;function p(){return function(t,e,n="",r){if(0===t.length)return null;const o=[t.length>1?t:[],...N(t,e).map((t=>[t]))];for(const t of o){const o=H(t,e,n,r);if(o)return{foundElements:t,selector:o}}return null}(i,f,a,c)}let g=p();for(;g;){const{foundElements:t,selector:e}=g;if(b(i,e,s))return e;f=t[0],a=e,g=p()}return i.length>1?i.map((t=>K(t,c))).join(E):function(t){return t.map(J).join(E)}(i)}const Q=K;return e})();
var _295=typeof _762==='function';function _796(_88){return'MF'+(_2.includeDebugTime?' - '+_10:'')+': '+_88}function _5(_88,_10){if(!_2.debug)return;_10=(typeof _10!=='undefined'?_10:'');if(_88 instanceof Error){_88.message=_796(_88.message);console.error(_88)}else{console.groupCollapsed(_796(_88));console.trace();console.groupEnd()}}var _22=new _974(window,_5);var _16=new _905(window,_22);var _24=new _871(window,Math,JSON,_22);var _55=new _1119(_22,_24);var _70=new _712('local',window,_24,_5);var _116=new _712('session',window,_24,_5);var _559=new _918(window,_16);var _2=new _879(window,_70,_116,_533,_534,_544);_2._446();_2._337=[];_2._763=[];_2._460=[".amount-wrap",".toolbar-sorter",".Colour > .filter-options-title",".Collection > .filter-options-title",".Brand > .filter-options-title",".Type > .filter-options-title","div:nth-of-type(1) > .collections > div:nth-of-type(4)","div:nth-of-type(1) > .collections > div:nth-of-type(3)","div:nth-of-type(1) > .collection-brand",".category-card",".collection-brand",".is-visible",".zoom-img"];_2._764=[];_2._660=[];_2._684=[];_2._44='ceaef1c0-3ed6-4aa3-b9e1-f30073afea4a';_2._527=true;_2._1131='10000000';_2._355('appUrl',_38);var _299=new _1093(window,_24,_2,_5);function _762(_3,_96,_22,_2,_16,_24,_55,_76,_305,_70,_116,_202,_443,_5,_559,_299,_112,_185){var _1061=false;var _156='https://eu01.rec.mouseflow.com/';var _180=100.00000;var _163=[];var _1129=[];var _914=[];var _291=["sanipexgroup.com"];var _727=false;var _1075=false;var _500='2025-11-27T08:13:01.1663959Z';var _154='19.05';var _183=false;var _429=false;var _83=false;var _172=false;var _553=false;var _795=/\[(\d+)\]_mf$/;var _14=_3.document;var _67=_3.location;var _12=_898();var _1=_675();var _347=_24._451(_2);var _64={_629:100,_1159:250,_1158:10000,_570:1336,_463:1800000,_970:3600000,_1143:100,_847:2000,_811:8000,_843:100000,_718:2048,_859:200,_846:5000,_1135:2000,};var _549,_547,_535,_306,_294,_473,_290,_583,_427,_1176,_85,_638=[],_620=[],_562=[],_486=[],_637=[],_159=new Map(),_251=new Map();var _6={_336:0,_340:1,_339:2,_307:3,_308:4,_200:5,_199:6,_311:7,_348:8,_312:9,_254:10,_431:11,_430:12,_303:13,_730:14,_40:15,_1163:16,_1164:17,_77:18,_410:19,_977:20,_499:21,_510:22,_343:23,_524:24,_520:25,_515:26,_514:27,_404:28,_707:29,_409:30,_692:31,_335:32,_313:33,_568:34,_242:35,_489:36,_550:37,_45:38,_344:39,_1019:40,_244:41,_59:42,_1165:43,_844:44,_261:45};var _80={_681:{_21:'bounce',_4:2,_58:1,_121:1000},_353:{_21:'click-rage',_4:5,_58:2,_121:2000},_678:{_21:'click-error',_4:2,_58:3,_121:20},_676:{_21:'speed-browsing',_4:1,_58:6,_121:1000},_242:{_21:'submit-failure',_4:3,_58:7,_121:20},_493:{_21:'404',_4:5,_58:8,_121:20},_364:{_21:'dead-click',_4:1,_58:9,_121:1000}};var _594=/[\x20\r\n]+/g;var _1123=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@/;var _1109=/^\d{12,19}$/;var _924=/^(onbeforeunload|onblur|onchange|onclick|onfocus|oninput|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmouseenter|onmouseleave|onmousemove|onmouseout|onmouseover|onmouseup|onresize|onsubmit|ontouchcancel|ontouchend|ontouchenter|ontouchleave|ontouchmove|ontouchstart|onunload)$/;var _997=/checkbox|radio|button|submit|file|image|reset/;var _1111=[{name:'VISA',patternRegex:/^4(\d{15}|\d{17,18})$/},{name:'Mastercard',patternRegex:/^(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720|5[1-5]\d\d)\d{12}$/},{name:'American Express',patternRegex:/^3[47]\d{13}$/},{name:'Diners Club',patternRegex:/^3(0[0-5]|[689]\d)(\d{11}|\d{13}|\d{16})$/},{name:'Discover',patternRegex:/^(6011|64[456789]\d|65\d{2})(\d{12}|\d{15})$/},{name:'JCB',patternRegex:/^(352[89]|35[3-8]\d|2131|1800)\d{12,15}$/},{name:'China UnionPay',patternRegex:/^(62[03456]\d{3}]|6210\d\d|621[1-7]\d\d|6218[0-2]\d|6218[4-9]\d|6219[0-7]\d|6220[0-579]\d|62201\d|6220[2-9]\d|622[1-9]\d{2}|622018|627[026]\d\d|62770\d|6277[1-7]\d|62778[1-9]|62779\d|628[2-9]\d\d|629[12]\d\d|810\d\d\d|811\d\d\d|81[2-6]\d\d\d|817[01]\d\d)\d{8,13}$/},{name:'Maestro',patternRegex:/^((493698|50000\d|5000[1-9]\d|500[1-9]\d{2}|50[1-3]\d{3}|5040\d{2}|5041[0-6]\d|50417[0-4]|50417[6-9]|5041[89]\d|504[2-9]\d{2}|505\d{3}|506[0-5]\d{2}|5066[0-8]\d|50669[0-8]|506779|5067[89]\d|506[89]\d{2}|50[78]\d{3})\d{6,13}|(5[6-9]|63|67|6\d)\d{10,17})$/},{name:'Elo',patternRegex:/^(40117[89]|438935|457631|457632|431274|451416|457393|504175|506699|5067[0-6]\d|50677[0-8]|50900\d|5090[1-9]\d|509[1-9]\d{2}|627780|636297|636368|65003[1-3]|65003[5-9]|65004\d|65005[01]|65040[5-9]|6504[1-3]\d|65048[5-9]|65049\d|6505[0-2]\d|65053[0-8]|65054[1-9]|6505[5-8]\d|65059[0-8]|65070\d|65071[0-8]|65072[0-7]|65090[1-9]|6509[1-6]\d|65097[0-8]|65165[2-9]|6516[67]\d|65500\d|65501\d|65502[1-9]|6550[34]\d|65505[0-8])\d{10}$/},{name:'Hiper',patternRegex:/^(637095|63737423|63743358|637568|637599|637609|637612)\d{10}$/},{name:'Hipercard',patternRegex:/^(606282)\d{10}$/},{name:'Dankort',patternRegex:/^5019\d{12}$/},{name:'VISA Dankort',patternRegex:/^4571\d{12}$/}];const _602=_1074();const _265=new WeakMap();const _283='mf-dead-click';let _508=false;var _996=(function(_938){return function(_600){var _690=_600.length,_670=1,_426=0,_217;while(_690){_217=parseInt(_600.charAt(--_690),10);_670^=1;_426+=_670?_938[_217]:_217}return _426&&_426% 10===0}}([0,2,4,6,8,1,3,5,7,9]));
    // Copyright 2011 Google Inc.
    //
    // Licensed under the Apache License, Version 2.0 (the "License");
    // you may not use this file except in compliance with the License.
    // You may obtain a copy of the License at
    //
    //     http://www.apache.org/licenses/LICENSE-2.0
    //
    // Unless required by applicable law or agreed to in writing, software
    // distributed under the License is distributed on an "AS IS" BASIS,
    // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    // See the License for the specific language governing permissions and
    // limitations under the License.
    //
    // This component contains modifications carried out by Mouseflow ApS.
    var __extends=this.__extends||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __()};var MutationObserverCtor;if(typeof WebKitMutationObserver!=='undefined')MutationObserverCtor=_22._215(_3,'WebKitMutationObserver');else if(typeof MutationObserver!=='undefined')MutationObserverCtor=_22._215(_3,'MutationObserver');if(MutationObserverCtor===undefined){_5('DOM Mutation Observers not supported.',_10())}var NodeMap=(function(){function NodeMap(){this.nodes=[];this.values=[]}NodeMap.prototype.isIndex=function(s){return+s===s>>>0};NodeMap.prototype.nodeId=function(node){var id=node[NodeMap.ID_PROP];if(!id)id=node[NodeMap.ID_PROP]=NodeMap.nextId_++;return id};NodeMap.prototype.set=function(node,value){var id=this.nodeId(node);this.nodes[id]=node;this.values[id]=value};NodeMap.prototype.get=function(node){var id=this.nodeId(node);return this.values[id]};NodeMap.prototype.has=function(node){return this.nodeId(node)in this.nodes};NodeMap.prototype.deleteNode=function(node){var id=this.nodeId(node);delete this.nodes[id];this.values[id]=undefined};NodeMap.prototype.keys=function(){var nodes=[];for(var id in this.nodes){if(!this.isIndex(id))continue;nodes.push(this.nodes[id])}return nodes};NodeMap.ID_PROP='__mouseflow_node_map_id__';NodeMap.nextId_=1;return NodeMap})();var Movement;(function(Movement){Movement[Movement['STAYED_OUT']=0]='STAYED_OUT';Movement[Movement['ENTERED']=1]='ENTERED';Movement[Movement['STAYED_IN']=2]='STAYED_IN';Movement[Movement['REPARENTED']=3]='REPARENTED';Movement[Movement['REORDERED']=4]='REORDERED';Movement[Movement['EXITED']=5]='EXITED'})(Movement||(Movement={}));function enteredOrExited(changeType){return changeType===Movement.ENTERED||changeType===Movement.EXITED}var NodeChange=(function(){function NodeChange(node,childList,attributes,characterData,oldParentNode,added,attributeOldValues,characterDataOldValue){if(childList===void 0){childList=false}if(attributes===void 0){attributes=false}if(characterData===void 0){characterData=false}if(oldParentNode===void 0){oldParentNode=null}if(added===void 0){added=false}if(attributeOldValues===void 0){attributeOldValues=null}if(characterDataOldValue===void 0){characterDataOldValue=null}this.node=node;this.childList=childList;this.attributes=attributes;this.characterData=characterData;this.oldParentNode=oldParentNode;this.added=added;this.attributeOldValues=attributeOldValues;this.characterDataOldValue=characterDataOldValue;this.isCaseInsensitive=this.node.nodeType===1&&this.node instanceof HTMLElement&&typeof(HTMLDocument)!=='undefined'&&this.node.ownerDocument instanceof HTMLDocument}NodeChange.prototype.getAttributeOldValue=function(name){if(!this.attributeOldValues)return undefined;if(this.isCaseInsensitive)name=name.toLowerCase();return this.attributeOldValues[name]};NodeChange.prototype.getAttributeNamesMutated=function(){var names=[];if(!this.attributeOldValues)return names;for(var name in this.attributeOldValues){names.push(name)}return names};NodeChange.prototype.attributeMutated=function(name,oldValue){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(name in this.attributeOldValues)return;this.attributeOldValues[name]=oldValue};NodeChange.prototype.characterDataMutated=function(oldValue){if(this.characterData)return;this.characterData=true;this.characterDataOldValue=oldValue};NodeChange.prototype.removedFromParent=function(parent){this.childList=true;if(this.added||this.oldParentNode)this.added=false;else this.oldParentNode=parent};NodeChange.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};NodeChange.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return _22._74(this.node)};return NodeChange})();var ChildListChange=(function(){function ChildListChange(){this.added=new NodeMap();this.removed=new NodeMap();this.maybeMoved=new NodeMap();this.oldPrevious=new NodeMap();this.moved=undefined}return ChildListChange})();var TreeChanges=(function(_687){__extends(TreeChanges,_687);function TreeChanges(rootNode,mutations){_687.call(this);this.rootNode=rootNode;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var m=0;m<mutations.length;m++){var mutation=mutations[m];switch(mutation.type){case'childList':this.anyParentsChanged=true;for(let i=0;i<mutation.removedNodes.length;i++){let node=mutation.removedNodes[i];this.getChange(node).removedFromParent(mutation.target)}for(let i=0;i<mutation.addedNodes.length;i++){let node=mutation.addedNodes[i];this.getChange(node).insertedIntoParent()}break;case'attributes':this.anyAttributesChanged=true;this.getChange(mutation.target).attributeMutated(mutation.attributeName,mutation.oldValue);break;case'characterData':this.anyCharacterDataChanged=true;this.getChange(mutation.target).characterDataMutated(mutation.oldValue);break}}}TreeChanges.prototype.getChange=function(node){var change=this.get(node);if(!change){change=new NodeChange(node);this.set(node,change)}return change};TreeChanges.prototype.getOldParent=function(node){var change=this.get(node);return change?change.getOldParent():_22._74(node)};TreeChanges.prototype.getIsReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.reachableCache=this.reachableCache||new NodeMap();var isReachable=this.reachableCache.get(node);if(isReachable===undefined){isReachable=this.getIsReachable(_22._74(node));this.reachableCache.set(node,isReachable)}return isReachable};TreeChanges.prototype.getWasReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.wasReachableCache=this.wasReachableCache||new NodeMap();var wasReachable=this.wasReachableCache.get(node);if(wasReachable===undefined&&node!=this.getOldParent(node)){wasReachable=this.getWasReachable(this.getOldParent(node));this.wasReachableCache.set(node,wasReachable)}return wasReachable};TreeChanges.prototype.reachabilityChange=function(node){if(this.getIsReachable(node)){return this.getWasReachable(node)?Movement.STAYED_IN:Movement.ENTERED}return this.getWasReachable(node)?Movement.EXITED:Movement.STAYED_OUT};return TreeChanges})(NodeMap);var MutationProjection=(function(){function MutationProjection(rootNode,mutations,selectors,calcReordered,calcOldPreviousSibling){this.rootNode=rootNode;this.mutations=mutations;this.selectors=selectors;this.calcReordered=calcReordered;this.calcOldPreviousSibling=calcOldPreviousSibling;this.treeChanges=new TreeChanges(rootNode,mutations);this.entered=[];this.exited=[];this.stayedIn=new NodeMap();this.visited=new NodeMap();this.childListChangeMap=undefined;this.characterDataOnly=undefined;this.matchCache=undefined;this.processMutations()}MutationProjection.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;var changedNodes=this.treeChanges.keys();for(var i=0;i<changedNodes.length;i++){this.visitNode(changedNodes[i],undefined)}};MutationProjection.prototype.visitNode=function(node,parentReachable){if(this.visited.has(node))return;this.visited.set(node,true);var change=this.treeChanges.get(node);var reachable=parentReachable;if((change&&change.childList)||reachable==undefined)reachable=this.treeChanges.reachabilityChange(node);if(reachable===Movement.STAYED_OUT)return;this.matchabilityChange(node);if(reachable===Movement.ENTERED){this.entered.push(node)}else if(reachable===Movement.EXITED){this.exited.push(node);this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(reachable===Movement.STAYED_IN){var movement=Movement.STAYED_IN;if(change&&change.childList){if(change.oldParentNode!==_22._74(node)){movement=Movement.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(this.calcReordered&&this.wasReordered(node)){movement=Movement.REORDERED}}this.stayedIn.set(node,movement)}if(reachable===Movement.STAYED_IN)return;for(var child=_22._962(node);child;child=_22._752(child)){this.visitNode(child,reachable)}};MutationProjection.prototype.ensureHasOldPreviousSiblingIfNeeded=function(node){if(!this.calcOldPreviousSibling)return;this.processChildlistChanges();var parentNode=_22._74(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change){change=new ChildListChange();this.childListChangeMap.set(parentNode,change)}if(!change.oldPrevious.has(node)){change.oldPrevious.set(node,node.previousSibling)}};MutationProjection.prototype.getChanged=function(summary,selectors,characterDataOnly){this.selectors=selectors;this.characterDataOnly=characterDataOnly;for(let i=0;i<this.entered.length;i++){let node=this.entered[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED||matchable===Movement.STAYED_IN)summary.added.push(node)}var stayedInNodes=this.stayedIn.keys();for(let i=0;i<stayedInNodes.length;i++){let node=stayedInNodes[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED){summary.added.push(node)}else if(matchable===Movement.EXITED){summary.removed.push(node)}else if(matchable===Movement.STAYED_IN&&(summary.reparented||summary.reordered)){var movement=this.stayedIn.get(node);if(summary.reparented&&movement===Movement.REPARENTED)summary.reparented.push(node);else if(summary.reordered&&movement===Movement.REORDERED)summary.reordered.push(node)}}for(var i=0;i<this.exited.length;i++){var node=this.exited[i];var matchable=this.matchabilityChange(node);if(matchable===Movement.EXITED||matchable===Movement.STAYED_IN)summary.removed.push(node)}};MutationProjection.prototype.getOldParentNode=function(node){var change=this.treeChanges.get(node);if(change&&change.childList)return change.oldParentNode?change.oldParentNode:null;var reachabilityChange=this.treeChanges.reachabilityChange(node);if(reachabilityChange===Movement.STAYED_OUT||reachabilityChange===Movement.ENTERED)throw Error('getOldParentNode requested on invalid node.');return _22._74(node)};MutationProjection.prototype.getOldPreviousSibling=function(node){var parentNode=_22._74(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)throw Error('getOldPreviousSibling requested on invalid node.');return change.oldPrevious.get(node)};MutationProjection.prototype.getOldAttribute=function(element,attrName){var change=this.treeChanges.get(element);if(!change||!change.attributes)throw Error('getOldAttribute requested on invalid node.');var value=change.getAttributeOldValue(attrName);if(value===undefined)throw Error('getOldAttribute requested for unchanged attribute name.');return value};MutationProjection.prototype.attributeChangedNodes=function(includeAttributes){if(!this.treeChanges.anyAttributesChanged)return{};var attributeFilter;var caseInsensitiveFilter;if(includeAttributes){attributeFilter={};caseInsensitiveFilter={};for(let i=0;i<includeAttributes.length;i++){let attrName=includeAttributes[i];attributeFilter[attrName]=true;caseInsensitiveFilter[attrName.toLowerCase()]=attrName}}var result={};var nodes=this.treeChanges.keys();for(let i=0;i<nodes.length;i++){var node=nodes[i];var change=this.treeChanges.get(node);if(!change.attributes)continue;if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(node)||Movement.STAYED_IN!==this.matchabilityChange(node)){continue}var element=node;var changedAttrNames=change.getAttributeNamesMutated();for(var j=0;j<changedAttrNames.length;j++){let attrName=changedAttrNames[j];if(attributeFilter&&!attributeFilter[attrName]&&!(change.isCaseInsensitive&&caseInsensitiveFilter[attrName])){continue}var oldValue=change.getAttributeOldValue(attrName);if(oldValue===element.getAttribute(attrName))continue;if(caseInsensitiveFilter&&change.isCaseInsensitive)attrName=caseInsensitiveFilter[attrName];result[attrName]=result[attrName]||[];result[attrName].push(element)}}return result};MutationProjection.prototype.getOldCharacterData=function(node){var change=this.treeChanges.get(node);if(!change||!change.characterData)throw Error('getOldCharacterData requested on invalid node.');return change.characterDataOldValue};MutationProjection.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];var nodes=this.treeChanges.keys();var result=[];for(var i=0;i<nodes.length;i++){var target=nodes[i];if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(target))continue;var change=this.treeChanges.get(target);if(!change.characterData||target.textContent==change.characterDataOldValue)continue;result.push(target)}return result};MutationProjection.prototype.computeMatchabilityChange=function(selector,el){if(!this.matchCache)this.matchCache=[];if(!this.matchCache[selector.uid])this.matchCache[selector.uid]=new NodeMap();var cache=this.matchCache[selector.uid];var result=cache.get(el);if(result===undefined){result=selector.matchabilityChange(el,this.treeChanges.get(el));cache.set(el,result)}return result};MutationProjection.prototype.matchabilityChange=function(node){var _33=this;if(this.characterDataOnly){switch(node.nodeType){case 8:case 3:return Movement.STAYED_IN;default:return Movement.STAYED_OUT}}if(!this.selectors)return Movement.STAYED_IN;if(node.nodeType!==1)return Movement.STAYED_OUT;var el=node;var matchChanges=this.selectors.map(function(selector){return _33.computeMatchabilityChange(selector,el)});var accum=Movement.STAYED_OUT;var i=0;while(accum!==Movement.STAYED_IN&&i<matchChanges.length){switch(matchChanges[i]){case Movement.STAYED_IN:accum=Movement.STAYED_IN;break;case Movement.ENTERED:if(accum===Movement.EXITED)accum=Movement.STAYED_IN;else accum=Movement.ENTERED;break;case Movement.EXITED:if(accum===Movement.ENTERED)accum=Movement.STAYED_IN;else accum=Movement.EXITED;break}i++}return accum};MutationProjection.prototype.getChildlistChange=function(el){var change=this.childListChangeMap.get(el);if(!change){change=new ChildListChange();this.childListChangeMap.set(el,change)}return change};MutationProjection.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;this.childListChangeMap=new NodeMap();for(var i=0;i<this.mutations.length;i++){var mutation=this.mutations[i];if(mutation.type!='childList')continue;if(this.treeChanges.reachabilityChange(mutation.target)!==Movement.STAYED_IN&&!this.calcOldPreviousSibling)continue;var change=this.getChildlistChange(mutation.target);var oldPrevious=mutation.previousSibling;for(let j=0;j<mutation.removedNodes.length;j++){let node=mutation.removedNodes[j];recordOldPrevious(node,oldPrevious,change);if(change.added.has(node)){change.added.deleteNode(node)}else{change.removed.set(node,true);change.maybeMoved.deleteNode(node)}oldPrevious=node}recordOldPrevious(mutation.nextSibling,oldPrevious,change);for(let j=0;j<mutation.addedNodes.length;j++){let node=mutation.addedNodes[j];if(change.removed.has(node)){change.removed.deleteNode(node);change.maybeMoved.set(node,true)}else{change.added.set(node,true)}}}};MutationProjection.prototype.wasReordered=function(node){if(!this.treeChanges.anyParentsChanged)return false;this.processChildlistChanges();var parentNode=_22._74(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)return false;if(change.moved)return change.moved.get(node);change.moved=new NodeMap();var pendingMoveDecision=new NodeMap();function isMoved(node){if(!node)return false;if(!change.maybeMoved.has(node))return false;var didMove=change.moved.get(node);if(didMove!==undefined)return didMove;if(pendingMoveDecision.has(node)){didMove=true}else{pendingMoveDecision.set(node,true);didMove=getPrevious(node)!==getOldPrevious(node)}if(pendingMoveDecision.has(node)){pendingMoveDecision.deleteNode(node);change.moved.set(node,didMove)}else{didMove=change.moved.get(node)}return didMove}var oldPreviousCache=new NodeMap();function getOldPrevious(node){var oldPrevious=oldPreviousCache.get(node);if(oldPrevious!==undefined)return oldPrevious;oldPrevious=change.oldPrevious.get(node);while(oldPrevious&&(change.removed.has(oldPrevious)||isMoved(oldPrevious))){oldPrevious=getOldPrevious(oldPrevious)}if(oldPrevious===undefined)oldPrevious=node.previousSibling;oldPreviousCache.set(node,oldPrevious);return oldPrevious}var previousCache=new NodeMap();function getPrevious(node){if(previousCache.has(node))return previousCache.get(node);var previous=node.previousSibling;while(previous&&(change.added.has(previous)||isMoved(previous)))previous=previous.previousSibling;previousCache.set(node,previous);return previous}change.maybeMoved.keys().forEach(isMoved);return change.moved.get(node)};return MutationProjection})();function recordOldPrevious(node,previous,change){if(!node||change.oldPrevious.has(node)||change.added.has(node)||change.maybeMoved.has(node))return;if(previous&&(change.added.has(previous)||change.maybeMoved.has(previous)))return;change.oldPrevious.set(node,previous)}var Summary=(function(){function Summary(projection,query){var _33=this;this.projection=projection;this.added=[];this.removed=[];this.reparented=query.all||query.element||query.characterData?[]:undefined;this.reordered=query.all?[]:undefined;projection.getChanged(this,query.elementFilter,query.characterData);if(query.all||query.attribute||query.attributeList){var filter=query.attribute?[query.attribute]:query.attributeList;var attributeChanged=projection.attributeChangedNodes(filter);if(query.attribute){this.valueChanged=attributeChanged[query.attribute]||[]}else{this.attributeChanged=attributeChanged;if(query.attributeList){query.attributeList.forEach(function(attrName){if(Object.prototype.hasOwnProperty.call(!_33.attributeChanged,attrName))_33.attributeChanged[attrName]=[]})}}}if(query.all||query.characterData){var characterDataChanged=projection.getCharacterDataChanged();if(query.characterData)this.valueChanged=characterDataChanged;else this.characterDataChanged=characterDataChanged}if(this.reordered)this.getOldPreviousSibling=projection.getOldPreviousSibling.bind(projection)}Summary.prototype.getOldParentNode=function(node){return this.projection.getOldParentNode(node)};Summary.prototype.getOldAttribute=function(node,name){return this.projection.getOldAttribute(node,name)};Summary.prototype.getOldCharacterData=function(node){return this.projection.getOldCharacterData(node)};Summary.prototype.getOldPreviousSibling=function(node){return this.projection.getOldPreviousSibling(node)};return Summary})();var validNameInitialChar=/[a-zA-Z_]+/;var validNameNonInitialChar=/[a-zA-Z0-9_-]+/;function escapeQuotes(value){return'"'+value.replace(/"/g,'\\"')+'"'}var Qualifier=(function(){function Qualifier(){}Qualifier.prototype.matches=function(oldValue){if(oldValue===null)return false;if(this.attrValue===undefined)return true;if(!this.contains)return this.attrValue==oldValue;var tokens=oldValue.split(' ');for(var i=0;i<tokens.length;i++){if(this.attrValue===tokens[i])return true}return false};Qualifier.prototype.toString=function(){if(this.attrName==='class'&&this.contains)return'.'+this.attrValue;if(this.attrName==='id'&&!this.contains)return'#'+this.attrValue;if(this.contains)return'['+this.attrName+'~='+escapeQuotes(this.attrValue)+']';if('attrValue'in this)return'['+this.attrName+'='+escapeQuotes(this.attrValue)+']';return'['+this.attrName+']'};return Qualifier})();var Selector=(function(){function Selector(){this.uid=Selector.nextUid++;this.qualifiers=[]}try{Object.defineProperty(Selector.prototype,'caseInsensitiveTagName',{get:function(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(Selector.prototype,'selectorString',{get:function(){return this.tagName+this.qualifiers.join('')},enumerable:true,configurable:true})}catch(e){}Selector.prototype.isMatching=function(el){return el[Selector.matchesSelector](this.selectorString)};Selector.prototype.wasMatching=function(el,change,isMatching){if(!change||!change.attributes)return isMatching;var tagName=change.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(tagName!=='*'&&tagName!==el.tagName)return false;var attributeOldValues=[];var anyChanged=false;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=change.getAttributeOldValue(qualifier.attrName);attributeOldValues.push(oldValue);anyChanged=anyChanged||(oldValue!==undefined)}if(!anyChanged)return isMatching;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=attributeOldValues[i];if(oldValue===undefined)oldValue=el.getAttribute(qualifier.attrName);if(!qualifier.matches(oldValue))return false}return true};Selector.prototype.matchabilityChange=function(el,change){var isMatching=this.isMatching(el);if(isMatching)return this.wasMatching(el,change,isMatching)?Movement.STAYED_IN:Movement.ENTERED;else return this.wasMatching(el,change,isMatching)?Movement.EXITED:Movement.STAYED_OUT};Selector.parseSelectors=function(input){var selectors=[];var currentSelector;var currentQualifier;function newSelector(){if(currentSelector){if(currentQualifier){currentSelector.qualifiers.push(currentQualifier);currentQualifier=undefined}selectors.push(currentSelector)}currentSelector=new Selector()}function newQualifier(){if(currentQualifier)currentSelector.qualifiers.push(currentQualifier);currentQualifier=new Qualifier()}var WHITESPACE=/\s/;var valueQuoteChar;var SYNTAX_ERROR='Invalid or unsupported selector syntax.';var SELECTOR=1;var TAG_NAME=2;var QUALIFIER=3;var QUALIFIER_NAME_FIRST_CHAR=4;var QUALIFIER_NAME=5;var ATTR_NAME_FIRST_CHAR=6;var ATTR_NAME=7;var EQUIV_OR_ATTR_QUAL_END=8;var EQUAL=9;var ATTR_QUAL_END=10;var VALUE_FIRST_CHAR=11;var VALUE=12;var QUOTED_VALUE=13;var SELECTOR_SEPARATOR=14;var state=SELECTOR;var i=0;while(i<input.length){var c=input[i++];switch(state){case SELECTOR:if(c.match(validNameInitialChar)){newSelector();currentSelector.tagName=c;state=TAG_NAME;break}if(c=='*'){newSelector();currentSelector.tagName='*';state=QUALIFIER;break}if(c=='.'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case TAG_NAME:if(c.match(validNameNonInitialChar)){currentSelector.tagName+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER:if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrValue=c;state=QUALIFIER_NAME;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrValue+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case ATTR_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrName=c;state=ATTR_NAME;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case ATTR_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrName+=c;break}if(c.match(WHITESPACE)){state=EQUIV_OR_ATTR_QUAL_END;break}if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}throw Error(SYNTAX_ERROR);case EQUIV_OR_ATTR_QUAL_END:if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case EQUAL:if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}throw Error(SYNTAX_ERROR);case ATTR_QUAL_END:if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case VALUE_FIRST_CHAR:if(c.match(WHITESPACE))break;if(c=='"'||c=="'"){valueQuoteChar=c;state=QUOTED_VALUE;break}currentQualifier.attrValue+=c;state=VALUE;break;case VALUE:if(c.match(WHITESPACE)){state=ATTR_QUAL_END;break}if(c==']'){state=QUALIFIER;break}if(c=="'"||c=='"')throw Error(SYNTAX_ERROR);currentQualifier.attrValue+=c;break;case QUOTED_VALUE:if(c==valueQuoteChar){state=ATTR_QUAL_END;break}currentQualifier.attrValue+=c;break;case SELECTOR_SEPARATOR:if(c.match(WHITESPACE))break;if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR)}}switch(state){case SELECTOR:case TAG_NAME:case QUALIFIER:case QUALIFIER_NAME:case SELECTOR_SEPARATOR:newSelector();break;default:throw Error(SYNTAX_ERROR)}if(!selectors.length)throw Error(SYNTAX_ERROR);return selectors};Selector.nextUid=1;Selector.matchesSelector=(function(){var element=_14.createElement('div');if(typeof element['webkitMatchesSelector']==='function')return'webkitMatchesSelector';if(typeof element['mozMatchesSelector']==='function')return'mozMatchesSelector';if(typeof element['msMatchesSelector']==='function')return'msMatchesSelector';return'matchesSelector'})();return Selector})();var attributeFilterPattern=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:.]*)$/;function validateAttribute(attribute){if(typeof attribute!='string')throw Error('Invalid request opion. attribute must be a non-zero length string.');attribute=attribute.trim();if(!attribute)throw Error('Invalid request opion. attribute must be a non-zero length string.');if(!attribute.match(attributeFilterPattern))throw Error('Invalid request option. invalid attribute name: '+attribute);return attribute}function validateElementAttributes(attribs){if(!attribs.trim().length)throw Error('Invalid request option: elementAttributes must contain at least one attribute.');var lowerAttributes={};var attributes={};var tokens=attribs.split(/\s+/);for(var i=0;i<tokens.length;i++){let name=tokens[i];if(!name)continue;name=validateAttribute(name);var nameLower=name.toLowerCase();if(lowerAttributes[nameLower])throw Error('Invalid request option: observing multiple case variations of the same attribute is not supported.');attributes[name]=true;lowerAttributes[nameLower]=true}return Object.keys(attributes)}function elementFilterAttributes(selectors){var attributes={};selectors.forEach(function(selector){selector.qualifiers.forEach(function(qualifier){attributes[qualifier.attrName]=true})});return Object.keys(attributes)}var MutationSummary=(function(){function MutationSummary(opts){var _33=this;this.connected=false;this.options=MutationSummary.validateOptions(opts);this.observerOptions=MutationSummary.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(query){return query.elementFilter?query.elementFilter:[]}));if(!this.elementFilter.length)this.elementFilter=undefined;this.calcReordered=this.options.queries.some(function(query){return query.all});this.queryValidators=[];if(MutationSummary.createQueryValidator){this.queryValidators=this.options.queries.map(function(query){return MutationSummary.createQueryValidator(_33.root,query)})}this.observedMutations=[];this.observer=MutationObserverCtor?new MutationObserverCtor(function(mutations){_33.observedMutations.push(mutations);_16._48(()=>{if(!_33.observedMutations.length)return;_33.observerCallback(_33.observedMutations.flat());_33.observedMutations=[]},1)}):{observe:function(){}};this.reconnect()}MutationSummary.createObserverOptions=function(queries){var observerOptions={childList:true,subtree:true};var attributeFilter;function observeAttributes(attributes){if(observerOptions.attributes&&!attributeFilter)return;observerOptions.attributes=true;observerOptions.attributeOldValue=true;if(!attributes){attributeFilter=undefined;return}attributeFilter=attributeFilter||{};attributes.forEach(function(attribute){attributeFilter[attribute]=true;attributeFilter[attribute.toLowerCase()]=true})}queries.forEach(function(query){if(query.characterData){observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.all){observeAttributes();observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.attribute){observeAttributes([query.attribute.trim()]);return}var attributes=elementFilterAttributes(query.elementFilter).concat(query.attributeList||[]);if(attributes.length)observeAttributes(attributes)});if(attributeFilter)observerOptions.attributeFilter=Object.keys(attributeFilter);return observerOptions};MutationSummary.validateOptions=function(options){for(var prop in options){if(!(prop in MutationSummary.optionKeys))throw Error('Invalid option: '+prop)}if(typeof options.callback!=='function')throw Error('Invalid options: callback is required and must be a function');if(!options.queries||!options.queries.length)throw Error('Invalid options: queries must contain at least one query request object.');var opts={callback:options.callback,rootNode:options.rootNode||_14,observeOwnChanges:!!options.observeOwnChanges,oldPreviousSibling:!!options.oldPreviousSibling,queries:[]};for(var i=0;i<options.queries.length;i++){var request=options.queries[i];if(request.all){if(Object.keys(request).length>1)throw Error('Invalid request option. all has no options.');opts.queries.push({all:true});continue}if('attribute'in request){let query={attribute:validateAttribute(request.attribute)};query.elementFilter=Selector.parseSelectors('*['+query.attribute+']');if(Object.keys(request).length>1)throw Error('Invalid request option. attribute has no options.');opts.queries.push(query);continue}if('element'in request){var requestOptionCount=Object.keys(request).length;let query={element:request.element,elementFilter:Selector.parseSelectors(request.element)};if(Object.prototype.hasOwnProperty.call(request,'elementAttributes')){query.attributeList=validateElementAttributes(request.elementAttributes);requestOptionCount--}if(requestOptionCount>1)throw Error('Invalid request option. element only allows elementAttributes option.');opts.queries.push(query);continue}if(request.characterData){if(Object.keys(request).length>1)throw Error('Invalid request option. characterData has no options.');opts.queries.push({characterData:true});continue}throw Error('Invalid request option. Unknown query request.')}return opts};MutationSummary.prototype.createSummaries=function(mutations){if(!mutations||!mutations.length)return[];var projection=new MutationProjection(this.root,mutations,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var summaries=[];for(var i=0;i<this.options.queries.length;i++){summaries.push(new Summary(projection,this.options.queries[i]))}return summaries};MutationSummary.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(validator){if(validator)validator.recordPreviousState()})};MutationSummary.prototype.runQueryValidators=function(summaries){this.queryValidators.forEach(function(validator,index){if(validator)validator.validate(summaries[index])})};MutationSummary.prototype.changesToReport=function(summaries){return summaries.some(function(summary){var summaryProps=['added','removed','reordered','reparented','valueChanged','characterDataChanged'];if(summaryProps.some(function(prop){return summary[prop]&&summary[prop].length}))return true;if(summary.attributeChanged){var attrNames=Object.keys(summary.attributeChanged);var attrsChanged=attrNames.some(function(attrName){return!!summary.attributeChanged[attrName].length});if(attrsChanged)return true}return false})};MutationSummary.prototype.observerCallback=function(mutations){if(!this.options.observeOwnChanges)this.observer.disconnect();var summaries=this.createSummaries(mutations);this.runQueryValidators(summaries);if(this.options.observeOwnChanges)this.checkpointQueryValidators();if(this.changesToReport(summaries))this.callback(summaries);if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};MutationSummary.prototype.reconnect=function(){if(this.connected)throw Error('Already connected');this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};MutationSummary.prototype.takeSummaries=function(){if(!this.connected)throw Error('Not connected');var summaries=this.createSummaries(this.observer.takeRecords());return this.changesToReport(summaries)?summaries:undefined};MutationSummary.prototype.disconnect=function(){var summaries=this.takeSummaries();this.observer.disconnect();this.connected=false;return summaries};MutationSummary.NodeMap=NodeMap;MutationSummary.parseElementFilter=Selector.parseSelectors;MutationSummary.optionKeys={'callback':true,'queries':true,'rootNode':true,'oldPreviousSibling':true,'observeOwnChanges':true};return MutationSummary})();var TreeMirrorClient=(function(){function TreeMirrorClient(target,mirror,testingQueries){var _33=this;this.target=target;this.mirror=mirror;this.nextId=1;this.knownNodes=new MutationSummary.NodeMap();this.mutationSummaries=[];_532();var serializedRoot=this.serializeNode(target,true);var rootId=serializedRoot.id;this.mirror.initialize(rootId,[serializedRoot]);var queries=[{all:true}];if(testingQueries)queries=queries.concat(testingQueries);this.mutationSummaries.push(new MutationSummary({rootNode:target,callback:function(summaries){_33.applyChanged(summaries)},queries:queries}))}TreeMirrorClient.prototype.addShadowRoot=function(shadow){if(_296(shadow.host)||_371(shadow.host))return;const isKnownNode=this.isKnownNode(shadow);const isInitial=!isKnownNode;const data=this.serializeNode(shadow,isInitial);if(!data)return;if(!isKnownNode){data.parentNode=this.serializeNode(shadow.host);this.mirror.applyChanged({removed:[],addedOrMoved:[data],attributes:[],text:[]})}const existingSummary=this.mutationSummaries.find(m=>m.root===shadow);if(existingSummary)return;const _33=this;this.mutationSummaries.push(new MutationSummary({rootNode:shadow,callback:function(summaries){_33.applyChanged(summaries)},queries:[{all:true}]}))};TreeMirrorClient.prototype.disconnect=function(){this.mutationSummaries.forEach(function(mutationSummary){mutationSummary.disconnect()});this.mutationSummaries=[]};TreeMirrorClient.prototype.rememberNode=function(node){var id=this.nextId++;this.knownNodes.set(node,id);return id};TreeMirrorClient.prototype.forgetNode=function(node){this.knownNodes.deleteNode(node)};TreeMirrorClient.prototype.isKnownNode=function(node){return!!this.knownNodes.get(node)};TreeMirrorClient.prototype.serializeNode=function(node,isInitial){if(node===null)return null;if(_240(node,_267))return null;if(_240(node,_263))return null;var id=this.knownNodes.get(node);if(id!==undefined){if(isInitial)return _5('Found duplicated node during initial DOM: '+id,_10());return{id:id}}var data={nodeType:node.nodeType,id:this.rememberNode(node)};var parent=_22._74(node);if(_24._220(node,'data-mf-replace')||_24._220(node,'data-mf-replace-inner'))return null;var _548=_498(node),_654=!!_240(parent,_267);if(_548||_654){_5('CSS Blacklist blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_10());_284(node,_267,true);if(isInitial){for(const _79 of _22._165(node))this.serializeNode(_79,true)}if(_654)return null}var _555=_371(node),_664=!!_240(parent,_263);if(_555||_664){_5('CSS Masked blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_10());_284(node,_263,true);if(isInitial){for(const _79 of _22._165(node))this.serializeNode(_79,true)}if(_664)return null}switch(data.nodeType){case 9:this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 11:data.isShadowRoot=_22._976(node);this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 10:data.name=node.name;data.publicId=node.publicId;data.systemId=node.systemId;break;case 8:case 3:if(node.nodeType===8&&node.textContent.indexOf('[if')!==0&&node.textContent.indexOf('<![endif]')!==0)break;data.textContent=_599(node);if(_594.test(data.textContent)&&!_1000(parent))data.textContent=data.textContent.replace(_594,' ');if(parent&&parent.tagName==='STYLE'&&/^\s*$/.test(node.textContent)){data.textContent=_395(parent.sheet)}break;case 1:if(node.tagName==='IFRAME'&&parent&&parent.tagName==='HEAD'){data.nodeType=8;data.textContent='';break}data.tagName=node.tagName;if(node.attributes['data-mf-replace']){let _310=node.attributes['data-mf-replace'].value;data=_576.call(this,_310,function(_17){var _7=this.serializeNode(_17,true);_7.id=data.id;this.knownNodes.set(_17,_7.id);return _7})[0];break}if(node.tagName==='SCRIPT'){if(/\/?aura_prod\.js(\?.+)?$/.test(node.src)){_5('Salesforce Aura script added');_1080();_1068()}break}data.attributes={};var _940=_548||_555;if(_940){_886(node,data)}else{_949(node,data)}if(_548){data.attributes.class=node.className+' mf-excluded';break}if(_555){data.attributes.class=node.className+' mf-masked'}if(node===_347)data.attributes.class=(data.attributes.class||'')+' mf-scroll-main';if(_562.indexOf(node)!==-1)data.attributes.class=(data.attributes.class||'')+' mf-listen';if(node.tagName==='IFRAME'&&node.offsetWidth<=1&&node.offsetHeight<=1)data.attributes.src='';if(isInitial&&node.tagName==='INPUT'){if(!data.attributes.value&&node.value)data.attributes.value=_227(node);if(!data.attributes.checked&&node.checked)data.attributes.checked=node.checked}if(isInitial&&node.tagName==='OPTION'&&!data.attributes.selected&&node.selected)data.attributes.selected=node.selected;if(node.tagName==='INPUT'&&node.type==='hidden'&&data.attributes.value)data.attributes.value='';if(node.attributes['data-mf-replace-inner']){let _310=node.attributes['data-mf-replace-inner'].value;data.childNodes=_576.call(this,_310,function(_17){return this.serializeNode(_17,true)});break}if(isInitial){this.serializeChildNodes(node,data);if(node.shadowRoot){if(!data.childNodes)data.childNodes=[];var shadowRootData=this.serializeNode(node.shadowRoot,true);if(shadowRootData)data.childNodes.push(shadowRootData)}var cssDomain=node.tagName==='LINK'?node.href.split('/')[2]:'-1';var cssGetAllowed=_14.domain.indexOf(cssDomain)!==-1;var _943=node.tagName==='LINK'&&node.href&&cssGetAllowed&&(node.href.indexOf('blob:')===0||_2.enableCssRecording);var _944=node.tagName==='STYLE'&&!node.textContent;var cssRules=_943||_944?_395(node.sheet):null;if(cssRules){data.childNodes=[{nodeType:3,textContent:cssRules}];data.tagName='STYLE';data.href=undefined;data.rel=undefined}}break}return data};TreeMirrorClient.prototype.serializeAddedAndMoved=function(added,reparented,reordered){var _33=this;var all=added.concat(reparented).concat(reordered);var parentMap=new MutationSummary.NodeMap();all.forEach(function(node){var parent=_22._74(node);var children=parentMap.get(parent);if(!children){children=new MutationSummary.NodeMap();parentMap.set(parent,children)}children.set(node,true)});var moved=[];parentMap.keys().forEach(function(parent){var children=parentMap.get(parent);var keys=children.keys();while(keys.length){var node=keys[0];while(node.previousSibling&&children.has(node.previousSibling))node=node.previousSibling;var _212=false;while(node&&children.has(node)){if(_581(node))_212=true;else if(_588(node.previousSibling))_212=false;if(!_212){var data=_33.serializeNode(node);if(data){var _396=node.previousSibling;while(_396&&!data.previousSibling){data.previousSibling=_33.serializeNode(_396);_396=_396.previousSibling}data.parentNode=_33.serializeNode(_22._74(node));if(data.parentNode)moved.push(data)}}children.deleteNode(node);node=_22._752(node)}keys=children.keys()}});return moved};TreeMirrorClient.prototype.serializeAttributeChanges=function(attributeChanged){var _33=this;var map=new MutationSummary.NodeMap();Object.keys(attributeChanged).forEach(function(attrName){attributeChanged[attrName].forEach(function(element){if(element.hasAttribute&&element.hasAttribute('data-mf-replace')||_24._220(element,'data-mf-replace')||_24._220(element,'data-mf-replace-inner')){return}if(_498(element))_284(element,_267,true,true);if(_483(element))_284(element,_263,true,true);var record=map.get(element);if(!record){record=_33.serializeNode(element);if(record){record.attributes={};map.set(element,record)}}if(record){if(attrName.toLowerCase()==='value'&&element.tagName==='INPUT')record.attributes.value=_227(element);else if(attrName==='mf_adoptedStyleSheets')_33.serializeAdoptedStyleSheets(element,record);else record.attributes[attrName]=element.getAttribute(attrName)}})});return map.keys().map(function(node){return map.get(node)})};TreeMirrorClient.prototype.serializeTextChanges=function(textChanges){var _33=this;return textChanges.map(function(node){var data=_33.serializeNode(node);if(data){if(node.tagName==='STYLE'&&/^\s*$/.test(node.textContent))data.textContent=_395(node.sheet);else data.textContent=_599(node)}return data})};TreeMirrorClient.prototype.applyChanged=function(summaries){_532();var summary=summaries[0];['removed','added','reparented','reordered','attributeChanged','characterDataChanged'].forEach(function(key){if(!summary[key])summary[key]=[]});var _33=this;var removed=summary.removed.map(function(node){return _33.serializeNode(node)});var moved=this.serializeAddedAndMoved(summary.added,summary.reparented,summary.reordered);var attributes=this.serializeAttributeChanges(summary.attributeChanged);var text=this.serializeTextChanges(summary.characterDataChanged);this.mirror.applyChanged({removed:_399(removed),addedOrMoved:_399(moved),attributes:_399(attributes),text:_399(text)});summary.removed.forEach(function(node){_33.forgetNode(node)});summary.added.forEach(function(node){_330(node)})};TreeMirrorClient.prototype.serializeChildNodes=function(node,data){const children=_22._165(node);if(!children.length)return;data.childNodes=[];let _212=false;for(const child of children){if(_581(child))_212=true;else if(_588(child.previousSibling))_212=false;if(_212)continue;const serializedChild=this.serializeNode(child,true);if(serializedChild){data.childNodes.push(serializedChild)}}};TreeMirrorClient.prototype.serializeAdoptedStyleSheets=function(_17,_7){if(!_17.adoptedStyleSheets)return;var _33=this;_7.css=_17.adoptedStyleSheets.map(function(_170){var _397={id:_33.knownNodes.get(_170)};if(!_397.id){_397.id=_33.rememberNode(_170);_397.text=_395(_170)}return _397})};return TreeMirrorClient})();function _399(_948){return _948.filter(function(_114){return _114})}function _949(node,data){for(var i=0;i<node.attributes.length;i++){var attr=node.attributes[i];if(_931(attr.name.toLowerCase()))continue;if(attr.name.toLowerCase()==='value'&&node.tagName==='INPUT')data.attributes.value=_227(node);else data.attributes[attr.name]=attr.value}}function _532(){_285(_638,_2._337);_285(_620,_2._763);_285(_562,_2._460);_285(_637,_2._764);_285(_486,['.mf-form']);_185._401();_401();_934()}function _285(_560,_564){_560.length=0;if(!_564.length)return;try{var _167=_398(_564.join(','),_14);for(var i=0;i<_167.length;i++){_560.push(_167[i])}}catch(e){}}function _401(){if(!_2.freezeElementIds)return;_2.freezeElementIds.forEach(function(_18){try{var _167=_398(_18,_14);_167.forEach(function(_17){if(_159.has(_17))return;if(_167.length>1)_18=_140(_17);_159.set(_17,_18)})}catch(e){}})}function _934(){_251.clear();const _933=_76._120();for(const _206 of _2._684){if(_206._316&&_206._316!=_933)continue;let _248;if(_206._1172){const _569=_398(_206._20,_14);if(!_569?.length)continue;_248=_569}else{const _567=_361(_206._20,false);if(!_567)continue;_248=[_567]}if(_206._364){const _587=_251.get(_80._364._21);if(_587)_248.forEach(_17=>_587.add(_17));else _251.set(_80._364._21,new Set(_248))}if(_206._353){const _579=_251.get(_80._353._21);if(_579)_248.forEach(_17=>_579.add(_17));else _251.set(_80._353._21,new Set(_248))}}}function _398(_18,_46){try{var _92=[];_18.split(',').forEach(function(_18){var _137=_18.split(' > :document-fragment: > ',2);_46.querySelectorAll(_137[0]).forEach(function(_0){if(_137[1]&&_0.shadowRoot){_398(_137[1],_0.shadowRoot).forEach(function(_0){_92.push(_0)})}else{_92.push(_0)}})});return _92}catch(_32){_5('Could not get element from selector: '+_32.message)}}function _576(_310,_919){const _7=[];const _572=_14.createElement('div');_572.innerHTML=_310;for(const _920 of _22._165(_572)){const _921=_919.call(this,_920);_7.push(_921)}return _7}function _581(_17){return _17&&_17.nodeType===8&&_17.textContent.trim().toLowerCase().indexOf('mouseflowexcludestart')===0}function _588(_17){return _17&&_17.nodeType===8&&_17.textContent.trim().toLowerCase().indexOf('mouseflowexcludeend')===0}function _931(_472){return _924.test(_472)}function _395(_170){var _259='';try{if(!_170||!_170.cssRules)return _259}catch(e){return _259}for(var _8=0;_8<_170.cssRules.length;_8++){_259+=_170.cssRules[_8].cssText}return _259}function _1076(){_136({_15:_156+'install?websiteId='+_2._44,_95:function(){_5('Website installed signal sent.',_10())},_40:function(){_5('Error in transmitCrossDomain - could not signal that website was installed.',_10())}})}function _1079(_43){_136({_15:_156+'config?websiteId='+_2._44,_95:function(_61){var _926=_24._288(_61._350);_2.keyLogging=_926.enableKeystrokes;_5('Fetched recording script configuration.');_43()},_40:function(){_5('Error in transmitCrossDomain - could not fetch recording script configuration.');_43()}})}function _31(){if(_83){_5('Recording script is already started',_10());return}if(!_429){_5('Recording not started - recording script is not initialized',_10());return}_5('Recording starting, version '+_154+(_2.gdprEnabled?', GDPR mode enabled':'')+(_2._527?', privacy enforced':''),_10());if(!_677())return;_83=true;_1161();_532();_12._65=_1144(_1._580);if(_952())_953();_1._238=_154;_928()}function _928(){var _565=_1040();var _15=_156+'init?v='+_154+'&p='+_2._44+'&s='+_12._57+'&page='+_12._65+'&ret='+(_12._281?'1':'0')+'&u='+_12._178+'&href={href}'+'&url='+_94(_76._120())+'&ref={referrer}'+'&title='+_94(_14.title)+'&res='+_3.screen.width+'x'+_3.screen.height+'&tz='+_1099()+'&to='+_12._628+'&dnt='+_12._596+'&ori='+(typeof _3.orientation!='undefined'?_3.orientation:'')+'&dw='+_14.documentElement.clientWidth+'&dh='+_14.documentElement.clientHeight+'&time='+_890()+'&pxr='+(typeof _3.devicePixelRatio!='undefined'?_3.devicePixelRatio:1)+(_565.length>0?'&fw='+_565.join(','):'')+'&gdpr='+(_2.gdprEnabled?1:0);_15=_15.replace('{href}',_1008(_15.length)).replace('{referrer}',_94(_2.referrer));_1070();if(_2.hasCustomHref)_112._744(['tag','mf_secret_custom-href']);var _585=_973(_64._718-_15.length-6);_15+=_959(_585);_136({_15:_15,_95:function(_61){if(_61._350==='Recording blocked'){_5('Recording not started - mf_block cookie set to 1',_10());return}const _563=parseInt(_61._350,10);if(isNaN(_563)){_5('Recording not started - init failed',_10());return}_1._740=_563;_585.forEach(function(_142){_733(_142.key,_142.value)});_172=true;_982();_202._31(_12,_1,_293);_112._31();_849();_869();_895()},_881:true,_40:function(){_5('Error in transmitCrossDomain - recording not starting.',_10())}});_653();_1._107=null;_1038();_1._81={x:_3.pageXOffset,y:_3.pageYOffset};_832();_1._301=1;_425();_5('Recording started. '+'session: '+_12._57+', '+'page: '+_12._65+', '+'last page: '+_12._368+', '+'display URL: '+_76._120(),_10())}function _952(){return!_12._57||!_1142()||(_1._238&&_1._238!=='0'&&_1._238!==_154)||(+new Date()-_1._367)>_64._463}function _953(){_5('Starting new session');var _954=_12._57;_12._57=_438();_1._144=[];_12._302=0;if(_12._57===_954)throw Error('New session ID is identical to the old session ID. This might be because Math.random has been overwritten.')}function _68(_955){if(!_83)return;_981();_183=false;_829();_112._742();_16._101(_549);_16._101(_547);_16._101(_535);_16._166(_306);if(_290){_16._166(_290);_821()}if(_294){_16._166(_294);_582()}if(_473){_16._101(_473);_584()}_1160();if(!_955)_26(_6._977,{});_349();_172=false;if(_85)_85.disconnect();_202._68();_425();_1=_675();_5('Recording stopped',_10());_83=false;_553=false}function _385(_25,_67,_980){if(_10()<100){var _978=!_25||_25.toString()===_2.path;var _979=(_67||_3.location).href===_2.location.href;if(_978&&_979)return}if(_83)_68();_2.htmlDelay=_2.newPageViewHtmlDelay;_2._423(_25,_67);_2.forcePath=!!_980;_12._65='';_1._900=true;if(!_429)_334();_31();_501(0)}function _981(){if(_1._128){if(+new Date()-_1._128<_2.registerSubmitTimeout){_5('Registering formSubmit',_10())}else{_5('Not registering formSubmit. Timeout exceeded.',_10());_1._107=null}}}function _419(){_68();_1043('mf_'+_2._44);if(_3.name&&((_3.name.length===35&&_3.name.indexOf('mf_')===0)||(_2.crossDomainSupport&&_3.name.indexOf('mf_'+_2._44)===0)))_3.name=''}function _982(){if(_2.htmlFetchMode==='post'){_16._166(_583);_583=_16._48(function(){_983()},_2.htmlDelay)}else{_5('Html not sent due to mouseflowHtmlFecthMode setting',_10())}}function _983(){if(_85)_85.disconnect();const _54={_44:_2._44,_57:_12._57,_65:_12._65};_363({initialize,applyChanged});_330(_14.body);function initialize(_984,_113){if(_54._65===_12._65)_183=true;_16._48(function(){_1127({_54:_54,_7:{f:'initialize',args:[_984,_113]},_157:_14.documentElement.innerHTML.length})},1)}function applyChanged(_175){const _985=_10()-_1._490<30000;const _986=_175.removed.length||_175.addedOrMoved.length||_175.attributes.length||_175.text.length;if(!_985||!_986)return;_1031({_54:_54,_7:{f:'applyChanged',args:[_175.removed,_175.addedOrMoved,_175.attributes,_175.text]}})}}function _363(_577){if(_85)_85.disconnect();_85=new TreeMirrorClient(_14,{initialize:_577.initialize??function(){},applyChanged:_577.applyChanged??function(){}});_1030();_330(_14.body)}function _531(){if(_85)_85.disconnect()}function _584(){if(!_83)return;_988();_992();_963()}function _988(){const _989=_3.dataLayer||[];const _595=[];let _394=_989.filter(item=>item[0]==='event');for(let i=_1._405||0;i<_394.length;i++){_595.push({"eventName":_394[i][1],"eventObject":_394[i][2]})}_1._324.push(..._595);_1._405=_394.length}function _992(){const _239=_3.s||[];if(typeof AppMeasurement==='undefined'||_239?.constructor!==AppMeasurement){return}const _29={props:{eventName:'props',eventObject:{}},eVars:{eventName:'eVars',eventObject:{}}};for(const key in _239){if(key.startsWith('prop')&&_239[key]!=null){_29.props.eventObject[key]=_239[key]}else if(key.startsWith('eVar')&&_239[key]!=null){_29.eVars.eventObject[key]=_239[key]}}const _586=_102(JSON.stringify(_29));if(_1._406!==_586){_1._406=_586;_1._324.push(_29.props,_29.eVars)}}function _538(_11,_4,_994,_590){if(!_83)return;if(!_591(_11,_4))return;if(!_733(_11,_4)){_5('Variable already set to same value, not triggering callback.',_10());return}var _7={key:_11.toString(),value:_4.toString()||'',scope:_994||'session',overwrite:_590===undefined?true:_590};_1._141.push(_7);_16._166(_294);_294=_16._48(_582,1000)}function _591(_11,_4){if(!_11||!_4){_5('Variable key and value cannot be empty',_10());return false}if(_11.includes('=')){_5('Variable key cannot contain "="',_10());return false}if(_11.length>100){_5('Variable key cannot be more than 100 characters',_10());return false}if(_4.length>2000){_5('Variable value cannot be more than 2000 characters',_10());return false}return true}function _973(limit){var _71=_112._1120();if(!_71.length)return[];var _141=[];var _592=0;for(var _39=0;_39<_71.length;_39++){var _53=_71[_39];if(!_53||!_53.length||_53[0]!=='setVariable')continue;if((_53.length>3&&_53[3]!=='session')||(_53.length>4&&_53[4]!==true))continue;var _11=_53[1];var _4=_53[2];if(!_591(_11,_4))continue;if(_734(_11)!==-1)continue;var _957=_94(_11)+'='+_94(_4);_592+=_957.length+1;if(_592-1>=limit)break;_141.push({key:_11,value:_4});_71.splice(_39,1);_39--}return _141}function _959(_141){var _383=_141.map(function(_142){return _94(_142.key)+'='+_94(_142.value)}).join('&');return _383?'&vars='+_94(_383):''}function _582(){_294=0;for(var _8=0;_8<_1._141.length;_8++){var _142=_1._141[_8];_5('Setting custom variable: '+_142.key+' = '+_142.value+', overwrite: '+(_142.overwrite===undefined?true:_142.overwrite),_10())}_293('variable',_1._141);_1._141=[]}function _963(){if(!_2.enableDataLayerCapture)return;if(_1._324.length)_293('datalayer',_1._324);_1._324=[]}function _77(_964){_26(_6._77,{target:_964})}function _537(){_26(_6._77,{target:'*'})}function _509(_965){if(!_83)return;if(_2.gdprEnabled||_2._527){_5('User identification not allowed (privacy enforced in script)',_10());return}_293('identify',{userId:_12._178,userName:_965})}function _503(_37){if(!_83)return;_5('Registering form submit attempt on this page',_10());_539(_453(_37))}function _282(_37){if(!_83)return;var _456=_10();if(_1._107===_102(_2.path||_2.location.pathname)||_456>5000){_5('Registering form submit success on this page',_10());if(!_1._107){_26(_6._303,{element:_453(_37)})}_26(_6._568,{});_1._128=undefined;_1._107=undefined}else{_16._48(function(){_5('Registering form submit success on previous page',_10());_458([{_23:_6._568}],_663())},_658())}}function _402(_37){if(!_83)return;var _456=_10();if(_1._107===_102(_2.path||_2.location.pathname)||_456>5000){_5('Registering form submit failure on this page',_10());if(!_1._107){_26(_6._303,{element:_453(_37)})}_26(_6._242,{});_123(_80._242);_1._128=undefined;_1._107=undefined}else{_16._48(function(){_5('Registering form submit failure on previous page',_10());_458([{_23:_6._242},{_23:_6._59,_19:_382(_80._242)},{_23:_6._77,_19:{target:_80._242._21}}],_663())},_658())}}function _663(){const _461=_12._93.find(_54=>_54._58===_12._368)?._69;if(_1._128&&_461&&_1._128>_461&&_1._128<_1._69){return _1._128-_461}return 0}function _658(){var _656=1000;var _665=new Date()-_1._128;return _665>_656?0:_656-_665}function _453(_37){if(_37 instanceof Element)return _37;const _912=_914.filter(_452=>_452._389===_37).map(_452=>_452._20);const _20=_912[0];return _361(_20||_37)}function _539(_37){if(!_83||!_37||_296(_37))return;if((+new Date())-_1._672<20)return;_1._672=+new Date();const _389=_140(_37);_26(_6._303,{element:_37,target:_389});const _275=_906(_37);const _321=_1._321[_389];if(!_321){_1._321[_389]=_275}else{_1122(_275,_321)}_1101(_275);_907(_37);_1._128=+new Date();_1._107=_102(_2.path||_2.location.pathname);_653()}function _653(){if(!_1._107)return;var _192=_866();if(_192.length){_853(_192);return}if(_1._107!==_102(_2.path||_2.location.pathname)){_282()}}function _853(_192){var _649=_192.filter(function(_2){return!_2.target})[0];if(_649){_645(_649);return}_848(function(){var _646=_192.filter(function(_2){return _2.target&&_855(_2.target)})[0];if(!_646)return false;_645(_646);return true},_64._859,_64._846)}function _866(){if(!_2.forms)return[];var _192=_2.forms.filter(function(_386){if(_386.formPath&&_102(_386.formPath)!==_1._107)return false;if(_386.redirectPath&&_386.redirectPath!==_2.location.pathname)return false;return true});return _192}function _855(_20){var _0=_14.querySelector(_20.selector);if(!_0)return false;if(!_20.text)return true;return _0.textContent.toLowerCase().includes(_20.text.toLowerCase())}function _645(_2){if(_2.result==='success'){_282()}else if(_2.result==='failure'){_402()}}function _848(_43,_688,_857){var _69=new Date();var _668=function(){var _864=new Date()-_69;if(_864<_857&&!_43())_16._48(_668,_688)};_16._48(_668,_688)}function _123(_59,_0,_20){if(!_83||!_59)return;const _329=_858(_59,_0);const _376=_382(_59,_0,_20,_329);if(!_376)return;_26(_6._59,_376);if(!_329)_202._950(_59._21)}function _382(_59,_0,_20,_329){let _322=+_59._4;let _21=_59._21||'custom-friction'+(_59._693?('-'+_59._693):'');if(_329)_21+='__MUTED';const _448=_1._380.findIndex(e=>e._21===_21&&e._20===_20);const _468=_448>-1?_1._380[_448]:null;if(_468){const _865=new Date()-_468._98;if(_865<_59._121)return;_1._380.splice(_448,1)}_1._380.push({_21:_21,_20:_20,_98:new Date()});if((_329||_468)&&!_21.includes('custom-friction'))_322=0;const _376={value:_21,element:_0,target:_20||'',x:_322>0?_322:0,y:_322<0?_322*-1:0,};return _376}function _858(_59,_0){if(!_0||!_59||!_2._684.length)return false;const _682=_251.get(_59._21);if(!_682)return false;if(_370(_0,(_850)=>_682.has(_850)))return true;return false}function _849(){if(_12._93.length<2)return;var _223=_12._93[_12._93.length-2];var _271=_12._93[_12._93.length-1];var _190=_102(_2.path||_2.location.pathname);if(_223._190===_190&&_223._190!==_271._190&&_1._69-_271._69<10000){_458([{_23:_6._59,_19:_382(_80._681)},{_23:_6._77,_19:{target:_80._681._21}}])}}function _869(){if(_12._93.length<4)return;var _679=_12._93[_12._93.length-5];var _223=_12._93[_12._93.length-4];if(_1._69-_223._69<30000){if(_679&&_223._69-_679._69<30000)return;_561(_223._58,[{_23:_6._59,_19:_382(_80._676)},{_23:_6._77,_19:{target:_80._676._21}}])}}function _895(){const _235=_417();const _896=_235.responseStatus;if(_896===404){_123(_80._493);return}const _897=_2.notFoundIdentifiers.map(a=>new RegExp(a,'i')).some(a=>a.test(_14.title));if(_897){_123(_80._493);return}}function _286(){if(!_83)return;_202._286.apply(_202,arguments)}function _898(){return{_57:'',_65:'',_178:'',_281:false,_628:+('ontouchstart'in _3&&_2.touchEvents),_596:(navigator.doNotTrack==='yes'||navigator.doNotTrack==1||window.doNotTrack==1||navigator.msDoNotTrack==1)?1:0,_302:0,_368:'',_93:[],_266:[],_365:_116._781(),_162:null}}function _675(){return{_580:new Date(),_69:+new Date(),_740:null,_309:+new Date(),_367:+new Date(),_900:false,_7:[],_131:[],_51:[],_673:[],_621:{},_134:[],_60:[],_155:[],_685:0,_686:0,_193:0,_471:'',_672:0,_255:[],_380:[],_135:{x:0,y:0},_834:{x:0,y:0},_806:{x:0,y:0},_631:-100,_81:{x:0,y:0},_203:{x:0,y:0},_836:new Map(),_841:new Map(),_523:-100,_517:-100,_173:{x:0,y:0},_798:{x:1,y:1},_800:{x:0,y:0},_457:[],_998:0,_222:[],_141:[],_301:1,_490:0,_566:0,_321:{},_144:[],_814:0,_816:0,_823:0,_266:[],_320:0,_195:0,_151:null,_133:_910(),_812:0,_819:0,_824:false,_411:false,_238:0,_652:false,_575:false,_324:[],_405:0,_406:'',}}function _669(_17,_47){let _113=[];for(const _79 of _22._165(_17)){if(_47&&_47(_79))_113.push(_79);_113=_113.concat(_669(_79,_47))}return _113}function _644(_37,_47){return _37.elements?Array.from(_37.elements).filter(_47):_669(_37,_47)}function _906(_37){const _113=_644(_37,function(_9){return/input|select|textarea/i.test(_9.tagName)&&!/hidden|submit|reset|image|button/i.test(_9.type)});const _231=new Map();for(const _0 of _113){const _20=_140(_0);const _4=_260(_0);const _117=_231.get(_20);if(_117){_117._4+=', '+_4}else{const _18=null;_231.set(_20,{_20,_18,_4})}}return _231}function _907(_37){if(!_12._365)return;var _113=_644(_37,function(_9){return/input|textarea/i.test(_9.tagName)&&!/hidden|submit|reset|image|file|button|password/i.test(_9.type)});_113.forEach(function(_9){var _4=_260(_9);if(!_4||_4.length<=3||_221(_4)||_494(_9))return;var _106=_615(_4);if(_106.length===0)return;var _214=[];for(let _8=0;_8<_106.length;_8++){_214.push(_106[_8]._119)}var _211=false;for(let _8=0;_8<_1._133.length;_8++){var _327=_1._133[_8];_211=_214.length===_327.length&&_610(_327,_214)===0;if(_211)break}if(!_211)_1._133.push(_214)});if(_1._133.length){_1._133=_1._133.slice(-100);_909(_1._133)}}function _909(_51){_70._276('mf_replaceHashes',_51)}function _910(){return _70._273('mf_replaceHashes')||[]}function _885(_4){if(_1._133.length===0)return _4;var _106=_615(_4);for(var _8=0;_8<_1._133.length;_8++){var _327=_1._133[_8];var _204;do{var _287=_204!==undefined?_204+1:0;_204=_610(_106,_327,_287);if(_204!==-1){var _31=_106[_204]._31;var _226=_106[_204+_327.length-1]._226;var _911=_1009('*',_226-_31);_4=_4.slice(0,_31)+_911+_4.slice(_226)}}while(_204!==-1)}return _4}function _615(_4){var _214=[];var _31;function _613(_226){if(_31===undefined)return;var _614=_4.slice(_31,_226);_214.push({_31:_31,_226:_31+_614.length,_119:_102(_614)});_31=undefined}for(var _8=0;_8<_4.length;_8++){var _551=_4[_8];if(_1012(_551)){if(_31===undefined){_31=_8}}else{_613(_8)}}_613();return _214}function _610(_256,_106,_287){for(var _8=_287||0;_8<_256.length;_8++){if(_8+_106.length>_256.length)break;if(_878(_256,_106,_8))return _8}return-1}function _878(_256,_106,_287){var _211=false;for(var _8=_287||0,_197=0;_8<_256.length&&_197<_106.length;_8++,_197++){_211=_256[_8]._119===_106[_197];if(!_211)break}return _211}function _260(_0){let _4='';if(_0.type&&/radio|checkbox/.test(_0.type.toLowerCase())){_4=_0.checked?_0.value:''}else if(_0.tagName&&/select/.test(_0.tagName.toLowerCase())&&_0.options){for(let j=0;j<_0.options.length;j++){const _217=_0.options[j].selected?_0.options[j].value:'';if(_217&&_217!='')_4+=(_4&&_4!=''?',':'')+_217}}else{_4=_0.value}return _4||''}function _227(_0){if(_0.type==='password')return'*';var _4=_260(_0);if(_624(_0)){_4=_4.replace(/./g,_625(_0.type))}else if(_622(_0)&&!_494(_0)){_4=_4.slice(0,2)+_4.slice(2).replace(/./g,_625(_0.type))}return _4}function _599(_0){var _232=_0.textContent;if(_0.nodeType===3&&_22._74(_0))_0=_22._74(_0);var _617=_885(_232);if(_617!==_232&&_2.replaceLastFormValues)_232=_617;if(_1105(_0))_232=_232.replace(/./g,'*');return _232}function _886(_17,_7){var _619=_833(_17);if(_17.id)_7.attributes.id=_17.id;if(_17.name)_7.attributes.name=_17.name;_7.attributes.style=(_17.style?_17.style.cssText+'; ':'')+'width: '+_619.width+'px; height: '+_619.height+'px;'+(_3.getComputedStyle(_17).display==='inline'?' display: inline-block;':'')}function _494(_0){return _24._147(_0,'mouseflow')||_620.indexOf(_0)!==-1}function _296(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_240(_0,_267);if(_370(_0,_498))return true;return false}function _483(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_240(_0,_263);if(_370(_0,_371))return true;return false}function _498(_0){return _638.indexOf(_0)!==-1||_24._147(_0,'no-mouseflow-dom')||_24._147(_0,'mf-excluded')}function _371(_0){return _637.indexOf(_0)!==-1||_24._147(_0,'mf-masked')}function _641(_0){return _24._147(_0,'no-mouseflow')||(!_2.keyLogging&&!_494(_0))||_296(_0)||_483(_0)}function _624(_0){return(_641(_0)||_221(_260(_0))||_1107(_0))&&_626(_0)&&!_997.test(_0.type)}function _1105(_0){return(_0.isContentEditable||_0.tagName==='TEXTAREA')&&_641(_0)}function _1107(_0){return(_2.gdprEnabled||_2._527)&&(_1114(_0)||_1115(_0))}function _221(_4){var _526=_4.replace(/[-\s]+/g,'');if(!_1109.test(_526)||!_996.call(this,_526))return false;return!_1111.every(function(_627){if(_627.patternRegex.test(_526)){_5("Identified credit card "+_627.name);return false}return true})}function _1114(_0){return/email/i.test(_0.type)||_1123.test(_0.value)}function _1115(_0){return/tel/i.test(_0.type)}function _622(_0){return _626(_0)&&/^\d{3}[^a-z]*$/i.test(_0.value)}function _626(_0){return _0.tagName==='INPUT'||_0.tagName==='TEXTAREA'}function _625(_1117){return/number/i.test(_1117)?'0':'*'}function _1021(_28){return _624(_28.target)||_622(_28.target)?'191':(_28.which&&_28.which.toString())||''}function _1082(_0){var _642=_140(_0);var _403=_1._621[_642];var _407=_227(_0);var _29=_407;if(_403&&_403.length>3&&_407.indexOf(_403)===0)_29='+||'+_407.substring(_403.length);_1._621[_642]=_407;return _29}function _1122(_234,_671){try{const _1104=new Set(_234.keys());const _1103=new Set(_671.keys());for(const _11 of _1104.union(_1103)){const _171=_234.get(_11);const _683=_671.get(_11);const _117=_171??_683;if(_171?._4===_683?._4)continue;_26(_6._550,{target:_117._20,selector:_117._18})}}catch(_32){_5('Error in _addChangedFieldEvents: '+_32.message,_10())}}function _1101(_275){try{for(const[,_117]of _275){if(_117._4)continue;_26(_6._489,{target:_117._20,selector:_117._18})}}catch(_32){_5('Error in getBlankFields: '+_32.message,_10())}}function _422(_0){if(_486.includes(_0))return null;return _0.form||_486.filter(function(_37){return _37.contains(_0)})[0]||null}function _1147(){_1086();_1091()}function _425(){_1088();_608()}function _1086(){var _651=_724('mf_user').split('|');for(var _8=0;_8<_651.length;_8++){var _75=_651[_8];switch(_8){case 0:_12._178=_75;break;case 1:_12._266=_75!==''?_75.split(/[$,]+/):[];break}}_12._281=_12._178!=='';if(_12._178===''||_12._178==='1')_12._178=_438();_1._652=true}function _1088(){if(!_1._652)return;_723('mf_user',[_12._178,_12._266.join('$')].join('|'),1,_24._333(_67,_2))}function _1091(){var _655=_724('mf_'+_2._44).split('|');for(var _8=0;_8<_655.length;_8++){var _75=_655[_8];switch(_8){case 0:_12._57=_75;break;case 1:_12._93=_1126(_75,_12._65);break;case 2:_1._367=parseInt(_75,10);break;case 3:_1._144=_75!==''?_75.split('.'):[];break;case 4:_12._302=parseInt(_75,10);break;case 5:_1._107=_75;break;case 6:_1._128=parseInt(_75,10);break;case 7:_1._266=_75!==''?_75.split(/[$,]+/):[];break;case 8:_12._281=_75==='1';break;case 9:_1._238=_75;break;case 10:_12._162=parseFloat(_75);break;case 11:_1._405=parseInt(_75,10);break;case 12:_1._406=_75;break}}if(!_12._57)_12._57=_2.sessionId||_1094();if(!_12._162)_12._162=_1095();var _271=_12._93[_12._93.length-1];if(_271)_12._368=_271._58;_1._575=true}function _1094(){var sessionId=_573();return sessionId&&sessionId.length===32?sessionId:null}function _1095(){var recordingRate=_573();return/^\d+\.\d+$/.test(recordingRate)?parseFloat(recordingRate):null}function _573(){return _2.crossDomainSupport&&_3.name&&_3.name.indexOf('mf_'+_2._44)===0?_3.name.split('=')[1]:null}function _608(){if(!_1._575)return;_723('mf_'+_2._44,[_12._57,_1149(),_1._367,_1._144.join('.'),_12._302,_1._107||'',_1._128||'',_1._266.join('$'),_12._281?'1':'0',_1._238,_12._162,_1._405||0,_1._406||''].join('|'),0,_24._333(_67,_2));if(_2.crossDomainSupport)_3.name='mf_'+_2._44+'='+(_12._57||_12._162)}function _1126(_4,_65){return _4.split(/[$,]+/).map(function(_54){var _51=_54.split('.');return{_58:_51[0],_190:_51[1],_69:+_51[2]}}).filter(function(p){return p._58!==_65}).slice(-5)}function _1149(){var _528=_12._93;if(_12._65){_528=_528.concat([{_58:_12._65,_190:_102(_2.path||_2.location.pathname),_69:_1._69}]).slice(-6)}return _528.map(function(_54){return _54._58+'.'+_54._190+'.'+_54._69}).join('$')}var _375='__mouseflow_properties__';var _267='is-blacklisted';var _263='is-masked';function _240(_17,_11){if(!_17)return null;var _236=_17[_375];return _236?_236[_11]:null}function _284(_17,_11,_4,_1157){var _236=_17[_375];if(!_236)_236=_17[_375]={};_236[_11]=_4;if(_1157){for(const _79 of _22._165(_17)){_284(_79,_11,_4,true)}}}function _574(_17){delete _17[_375];for(const _79 of _22._165(_17)){_574(_79)}}function _1160(){_574(_14.body)}function _1161(){_1._69=+new Date();_1._309=+new Date();_549=_16._145(_832,_64._629);_547=_16._145(_917,_64._1159);_535=_16._145(_410,_64._1158);_306=_16._48(_121,_64._463);if(_2.enableDataLayerCapture)_473=_16._145(_584,_64._1135)}function _1060(){if(!_735(_2.location.hostname))return false;if(_726()){_5('Recording not started - browser is IE8 or older');return false}return _677()}function _677(){_1147();if(_2.forceStart)return true;if(_1140()){_5('Recording not started - session ID is invalid.',_10());return false}if(_1138()){_5('Recording not started - honored "do not track" browser setting.',_10());return false}if(_1141()){_5('Recording not started - the browser was identified as a bot.',_10());return false}if(!_305._546(_163)){_5('Recording not started - page does not match page rules',_10());return false}var _362=_1129.filter(function(_66){return _305._252(_66)}).sort(_1134)[0];if(_362){_180=_362._180;_5('Recording rate set from page recording rule: '+_362._23+', "'+_362._4+'"',_10())}if(!_12._162)_12._162=_1137();var _607=_12._57||_12._162<=_180;if(!_607)_5('Recording not started - recordingRate or blocked',_10());_608();return _607}function _1134(_1145,_1136){return _1136._180-_1145._180}function _1137(){return _96.round(_96.random()*10000000)/100000}function _1138(){return _2.honorDoNotTrack&&_12._596}function _1140(){return _12._57&&_12._57.length!=32}function _1141(){if(_2.enableBots)return false;return _3.navigator.webdriver||/ptst|headlesschrome|lighthouse/i.test(_3.navigator.userAgent)}function _1142(){return(_12._302<_64._1143)}function _1144(_98){return _356(_98.getMonth()+1,2)+_356(_98.getDate(),2)+_356(_98.getSeconds(),2)+_356(_98.getMilliseconds(),3).slice(1)+_438()}function _356(_1083,_210){return(new Array(_210+1).join('0')+_1083).slice(-_210)}function _1099(){var _623=new Date();return _96.max(new Date(_623.getFullYear(),0,1).getTimezoneOffset(),new Date(_623.getFullYear(),6,1).getTimezoneOffset())}var _633=false;function _1038(){try{_557(_14);_86(_14,'mousemove',function(_9){_1._135={x:_9.pageX,y:_9.pageY}});_542(_14.documentElement,'mouseleave',function(){_26(_6._1019,{});_77('mouse-out')});_86(_14,'mousedown',function(_9){_1055(_9,_9.target)});_86(_14,'mouseup',function(_9){_1057(_9,_9.target)});_609(_14,'click',_602,function(_9){_1110(_9,_9.delegatedTarget||_9.target);if(!_9.delegatedTarget){const stylesBeforePotentialMutation={..._606(_9.target)};if(_2.enableDeadClick)_16._48(()=>_1032(_9,stylesBeforePotentialMutation),1)}});try{var _516=_1072();if(_516){_542(_14,'mouseenter',_516,function(_9){var _191=_357(_6._199).filter(function(_114){return _9.delegatedTarget&&_9.delegatedTarget.matches(_114._18)})[0];if(_191)_77(_191._77);_26(_6._199,{x:_9.pageX,y:_9.pageY,element:_9.target})});_542(_14,'mouseleave',_516,function(_9){_26(_6._311,{x:_9.pageX,y:_9.pageY,element:_9.target})})}}catch(_32){_5('Error in getHoverSelectors: '+_32.message,_10())}_86(_14,'focus','input,textarea,select,button',function(_9){_26(_6._431,{element:_9.target})});_86(_14,'blur','input,textarea,select,button',function(_9){_26(_6._430,{element:_9.target})});_86(_14,'keypress','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_26(_6._348,{element:_9.target})}});_86(_14,'keydown','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_26(_6._313,{element:_9.target,value:_1021(_9)})}});_86(_14,'keyup','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_26(_6._312,{element:_9.target,value:_1082(_9.target)});if(_221(_260(_9.target))&&_2.autoTagPayments)_77('payment')}});_86(_14,'change','input,textarea,select',function(_9){_26(_6._254,{element:_9.target,value:_227(_9.target)});if(_9.target&&['password','file'].indexOf(_9.target.type)===-1&&_221(_260(_9.target))&&_2.autoTagPayments)_77('payment')});_491(_14);if(_12._628){_86(_14,'touchstart',function(_9){var _90=_9.touches;if(_90.length>0){_26(_6._499,{x:_90[0].pageX,y:_90[0].pageY})}if(_90.length>1){_26(_6._520,{x:_90[1].pageX,y:_90[1].pageY})}});_86(_14,'touchmove',function(_9){var _90=_9.touches;var _351=_10();var _525=_351-_64._629;if(_90.length>0&&_1._631<_525){_26(_6._510,{x:_90[0].pageX,y:_90[0].pageY});if(_90.length>1){_26(_6._515,{x:_90[1].pageX,y:_90[1].pageY})}_1._631=_351;var _1028=!_143(_358(),_1._173);if(_1028){_1._173=_358();_26(_6._336,_1._173);if(_1._517<_525){_26(_6._336,_1._173);_1._517=_351}}_1._81={x:_3.pageXOffset,y:_3.pageYOffset};if(_1._523<_525&&!_143(_1._81,_1._203)){_1._203=_1._81;_26(_6._340,_1._81);_1._523=_351}}});_86(_14,'touchend',function(_9){var _90=_9.touches;if(_90.length===0)_26(_6._343,{x:0,y:0});if(_90.length>1)_26(_6._514,{x:0,y:0})});if(_3.screen.orientation){_86(_3.screen.orientation,'change',function(){_26(_6._524,{x:_3.screen.orientation.angle,y:0})})}}_86(_3,_1073(),function(){_68()});var _632=_3.onerror;_3.onerror=function(_88,_15,_441,_442,_146){var _1037=new Date()-_1._195;if(_1037>1000&&_1._320<50){_1._195=+new Date();var _511='Malformed error';if(_88&&_88.message)_511=_88.message;else if(typeof _88==='string')_511=_88;_1._151={_88:_511,_15:typeof _15==='string'?_15:'Malformed URL',_441:''+_441,_442:''+_442,_1042:_146&&_146.stack&&_146.stack.substring(0,800),_1175:_1._195};if(_1._193!==0&&_1._195-_1._193<100){const _0=_361(_1._471);_123(_80._678,_0,_1._471);_667()}}if(_632)_632.apply(this,arguments)};if(_2.keyLogging)_1045()}catch(_32){_5('Error in bindDomEvents: '+_32.message,_10())}}function _1030(){if(_633)return;try{if(_2.proxyAttachShadow)_245();_616();_1066();if(_2.proxyValueSetter)_643()}catch(_32){_5('Could not initialize proxies: '+_32.message,_10())}finally{_633=true}}function _1032(_9,_634){if(_640(_9))return;if(_507(_9.target))return;const _1033=_3.getSelection();const _1034=(_601(_9.target)||_1010(_634)||_507(_9.target)||_1006(_9.target)||_640(_9)||_1033.type==='Range');if(_1034)return;if(_1011(_9.target,_634)||_1013(_9.target,_9.clientX,_9.clientY)||_1005(_9.target)){_636(_9.target);return}const _635=_604(_9.target);if(_635){_636(_9.target,_635)}}function _636(_0,_1018=null){_123(_80._364,_0);_1017(_1018??_0)}function _1017(_1015){if(!_2.debugDeadClick){if(_508){for(const _0 of _14.getElementsByClassName(_283)){_0.classList.remove(_283)}}return}if(!_508){const _129=_14.createElement('style');_129.textContent=`.${_283} { outline: solid red }`;_14.head.append(_129);_508=true}const _92=new Set([..._14.getElementsByClassName(_283),_1015]);for(const _0 of _92){_0.classList.toggle(_283)}}function _618(_639){return _639==='true'||_639==='plaintext-only'}function _640(_9){const _1001=_9.target.getAttribute('contenteditable');if(_618(_1001)){return true}const _1002=_9.target.closest('[contenteditable]');const _1004=_1002?.getAttribute('contenteditable');if(_618(_1004)){return true}}function _1005(_0){return _0&&_0.tagName==='I'}function _507(_0){return _0&&_0.tagName==='LABEL'&&_0.control&&_601(_0.control)}function _1006(_0){const _598=_0.closest('label');return _598&&_507(_598)}function _601(_0){return _0.matches(_602)}function _1010(_264){return _264.cursor&&_264.cursor!=='default'&&_264.cursor!=='auto'}function _1011(_0,_264){return _0.tagName==='IMG'||_0 instanceof SVGElement||_264.backgroundImage?.startsWith('url')}function _1013(_0,x,y){for(const node of _22._165(_0)){if(node.nodeType!==Node.TEXT_NODE){continue}const _603=_14.createRange();_603.selectNodeContents(node);for(const rect of _603.getClientRects()){if(rect.left<x&&rect.right>x&&rect.top<y&&rect.bottom>y){return true}}}return false}function _604(_0,_605=1){if(!_0||_605>5)return null;const _129=_606(_0);const _1027=parseInt(_129.borderWidth,10);const _1039=parseInt(_129.outlineWidth,10);if(_1027>0||_1039>0)return _0;return _604(_22._958(_0),_605+1)}function _606(_0){let _129=_265.get(_0);if(_129)return _129;_129=_3.getComputedStyle(_0);_265.set(_0,_129);if(_265.size>100)_265.delete(_265.keys().next().value);return _129}function _557(_46){_609(_46,'scroll','body,div,section,main,article,ul,.mf-scroll-listen',function(_9){if(_9.target===_14){_1._81={x:_3.pageXOffset,y:_3.pageYOffset}}else if(_9.target===_347){_1._81={x:_9.target.scrollLeft,y:_9.target.scrollTop}}else{const _20=_140(_9.target);_1._836.set(_20,{target:_20,selector:null,x:_9.target.scrollLeft,y:_9.target.scrollTop})}})}function _491(_46){_86(_46,'click','.mf-form-button',function(_9){_539(_422(_9.target))});_86(_46,'submit','form',function(_9){_539(_9.target)})}function _86(_20,_6,_47,_43){_55._176(_20,_6,_47,_43,{_179:true})}function _542(_20,_6,_47,_43){_55._176(_20,_6,_47,_43,{_179:true,_773:true})}function _609(_20,_6,_47,_43){_55._176(_20,_6,_47,_43,{_179:true,_1118:true})}function _1066(){var _1067=CSSStyleSheet.prototype.insertRule;var _611;var _229=[];CSSStyleSheet.prototype.insertRule=function(){_1067.apply(this,arguments);if(!_183)return;var _17=this.ownerNode;if(_229.indexOf(_17)<0)_229.push(_17);_16._166(_611);_611=_16._48(function(){_229=_229.filter(function(_17){return _17&&_85.isKnownNode(_17)});_85.applyChanged([{characterDataChanged:_229}]);_229=[]},200)}}var _554=HTMLElement.prototype.attachShadow;var _345=false;function _1068(){var _69=new Date();var _1071=_16._145(function(){var _1069=new Date()-_69;if(HTMLElement.prototype.attachShadow!==_554||_1069>10000){_16._101(_1071);_245()}},200)}function _1080(){if(!_345||HTMLElement.prototype.attachShadow!==_612)return;_5('Resetting "attach shadow" proxy');delete HTMLElement.prototype.attachShadow;_345=false}function _245(){if(_345)return;if(!_183){_16._48(_245,200);return}_5('Setting up "attach shadow" proxy');_554=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=_612;_345=true}function _612(){var _207=_554.apply(this,arguments);if(_183&&_85.isKnownNode(this)){_557(_207);_491(_207);_85.addShadowRoot(_207)}return _207}function _330(_0){if(_0.shadowRoot){_557(_0.shadowRoot);_491(_0.shadowRoot);_85.addShadowRoot(_0.shadowRoot);_330(_0.shadowRoot)}for(let _79=_0.firstElementChild;_79;_79=_79.nextElementSibling){_330(_79)}}function _616(){if(!_183){_16._48(_616,200);return}_326(Document.prototype,'adoptedStyleSheets',{_108:_630});_326(ShadowRoot.prototype,'adoptedStyleSheets',{_108:_630})}function _630(){if(!_183)return;_85.applyChanged([{attributeChanged:{'mf_adoptedStyleSheets':[this]}}])}function _643(){if(!_183){_16._48(_643,200);return}_326(HTMLInputElement.prototype,'value',{_108:_432});_326(HTMLTextAreaElement.prototype,'value',{_108:_432});_326(HTMLSelectElement.prototype,'value',{_108:_432})}function _432(){if(!_85.isKnownNode(this))return;_85.applyChanged([{attributeChanged:{'value':[this]}}])}function _326(_17,_132,_325){var _436=Object.getOwnPropertyDescriptor(_17,_132);if(!_325||!_436)return;Object.defineProperty(_17,_132,{get:function(){var _4=_436.get.apply(this,arguments);if(_325._130)_325._130.apply(this,arguments);return _4},set:function(){_436.set.apply(this,arguments);if(_325._108)_325._108.apply(this,arguments)}})}function _667(){if(_1._151){_1._320++;var _7={seq:_1._320,errorMsg:_1._151._88,url:_1._151._15,line:_1._151._441,col:_1._151._442,stack:_1._151._1042,errorTime:_1._195};_26(_6._40,{x:_1._320,y:0});_5('JS error '+_1._320+', msg: '+_1._151._88,_10());_293('error',_7);_1._151=null}}function _829(){_55._888();if(_427)_16._101(_427)}function _1045(){_1._673=_674();_427=_16._145(function(){const _234=_674();_1051(_234,_1._673)},200)}function _674(){const _92=_14.querySelectorAll('input,textarea,select');const _231=new Map();for(const _0 of _92){if(_24._147(_0,'no-mouseflow'))continue;if(!_1049(_0,['text','textarea','select-one']))continue;const _20=_140(_0);const _18=null;const _4=_227(_0);_231.set(_20,{_20,_18,_4})}return _231}function _1049(_117,_1050){return _117.type&&new RegExp(_1050.join('|'),'i').test(_117.type)}function _1051(_234,_680){if(_10()-_1._566<100)return;for(const[_11,_171]of _234){const _689=_680.get(_11);if(_689&&_689._4!==_171._4){_26(_6._254,{target:_171._20,selector:_171._18,value:_171._4})}_680.set(_11,_171)}}function _1055(_9,_0){if((+new Date())-_1._685<20)return;_1._685=+new Date();_26(_6._307,{x:_9.pageX,y:_9.pageY,element:_0})}function _1057(_9,_0){if((+new Date())-_1._686<20)return;_1._686=+new Date();const _91=_813(_0,_9.pageX,_9.pageY);if(!_91)return;_26(_6._308,{x:_91.x,y:_91.y,element:_91._0})}function _1110(_9,_0){if((+new Date())-_1._193<20)return;var _20=_140(_0);_1._193=+new Date();_1._471=_20;_26(_6._200,{x:_9.pageX,y:_9.pageY,element:_0,target:_20});_1._255.push(_1._193);_1._255=_1._255.slice(-5);if(_1._255[4]-_1._255[0]<1000){_123(_80._353,_0,_20);_1._255=[]}if(_1._193!==0&&_1._195!==0&&_1._193-_1._195<100){_123(_80._678,_0,_20);_667()}var _191=_357(_6._200).filter(function(_114){return _0.matches(_114._18)})[0];if(_191){_77(_191._77);if(_191._657)_16._48(()=>_385(_191._657,null,true),1)}}function _813(_0,_315,_300){let _91=_482(_0,_315,_300);if(!_91){if(_0?.firstElementChild){_91=_482(_0.firstElementChild,_315,_300)}else if(_0?.parentElement){_0=_0.parentElement;_91=_482(_0,_315,_300)}}if(_91){_91._0=_0}return _91}function _482(_17,_315,_300){var _208=_833(_17);if(_208==null||!_208.height||!_208.width)return null;return{x:parseInt((_315-_1._81.x-_208.x)/parseFloat(_208.width)*65535),y:parseInt((_300-_1._81.y-_208.y)/parseFloat(_208.height)*65535)}}function _1074(){const _104=['a','input','select','button','textarea','.mf-listen-click'];_104.push.apply(_104,_662(_357(_6._200)));return _104.slice(0,1000).join(',')}function _1072(){var _650={};var _648=/[^(]:hover/;if(_2.useAllHoverSelectors){for(var _8=0;_8<_14.styleSheets.length;_8++){var _289=_14.styleSheets[_8];try{var _259=_289.cssRules?_289.cssRules:_289.rules;for(var _197=0;_197<_259.length;_197++){var _647=_289.cssRules[_197];if(!_648.test(_647.selectorText))continue;let _104=_647.selectorText.split(',');var _18;for(var _470=0;_470<_104.length;_470++){_18=_104[_470].replace(/^\s+|\s+$/g,'');if(_648.test(_18)){_18=_18.substring(0,_18.indexOf(':hover'));_18=_1025(_18);_650[_18]=true}}}}catch(_32){_5('Cannot inspect external css file, :hover support may fail: '+_289.href)}}}let _104=['a','input','select','button','textarea','li','canvas','.mf-listen'];for(_18 in _650){_18=_18.replace(/^\s+|\s+$/g,'');if(_18!=''&&_18!='a'&&!_332(_18,' a')&&!_332(_18,' select')&&!_332(_18,' submit')&&!_332(_18,' textarea')&&!_332(_18,' li'))_104.push(_18)}_104.push.apply(_104,_2._460);_104.push.apply(_104,_662(_357(_6._199)));return _104.slice(0,1000).join(',')}function _357(_1036){var _1016={5:'Click',6:'Mouseover'};let _659=_76._120();var _661=_2._660.filter(function(_455){return _455._657===_659}).map(function(_455){return _455._316});_661.push(_659);var _462=_2._660.filter(function(_114){return _114._28===_1016[_1036]&&(!_114._316||_114._316===_2.location.href||_661.includes(_114._316))});return _462}function _662(_462){return _462.map(function(_114){return _114._18})}function _370(_17,_597,_464){if(!_464)_464=1000;for(let _8=0;_8<_464;_8++){if(!_17||!_597)return null;if(_597(_17))return _17;_17=_22._74(_17)??_17.host}return null}function _1025(_41){var _666=[/:active/g,/:visited/g,/::before/g,/:before/g,/::after/g,/:after/g,/::first-letter/g,/::first-line/g,/::selection/g];for(var _8=0;_8<_666.length;_8++)_41=_41.replace(_666[_8],'');return _41}function _94(_1139){try{return _3.encodeURIComponent(_1139)}catch(_32){_5('Encode error: '+_32.message,_10());return''}}function _1014(_4){return _4.replace(/%/g,'%25').replace(/\|{3}/g,'%7C%7C%7C')}function _26(_23,_19){if(!_83)return;if(_1._7.length===0)_1._309=+new Date();var _36=_593(_23,_19,_1._134,_1._51,_838());if(!_36)return;if(_851(_23)){_16._166(_306);_306=_16._48(_121,_64._463);_1._490=_10();_1._367=+new Date()}if(_578(_23))_1._566=_10();if(_1148(_36)){_349();if(_36._4!==undefined)_36._7[_36._7.length-1]=0;_1._7=_36._7;_1._7[0]=0;_1._7[1]=0;if(_36._60.length)_1._60.push(..._36._60);if(_36._4!==undefined)_1._51.push(_36._4);if(_36._182!==undefined)_1._155.push(_36._182)}else{_1._7=_1._7.concat(_36._7);if(_36._60.length)_1._60.push(..._36._60);if(_36._4!==undefined)_1._51.push(_36._4);if(_36._182!==undefined)_1._155.push(_36._182);if(_23===_6._343){_349()}}}function _1148(_36){const _1155=_346(_1._60)+_346(_36._60);const _1153=_346(_1._51)+_346(_36._4);const _1152=_1._7.length+_36._7.length+_1155+_1153;return _1152>_64._570}function _458(_469,_168){_561(_12._368,_469,_168)}function _561(_65,_469,_168=0){var _7=[],_134=[],_60=[],_51=[],_155=[];let _488=0;_469.forEach(function(_28,_39){if(!_28._19)_28._19={};_488=_39+1;var _36=_593(_28._23,_28._19,_134,_51,_488);if(!_36)return;_7=_7.concat(_36._7);if(_36._60.length)_60.push(..._36._60);if(_36._4!==undefined)_51.push(_36._4);if(_36._182!==undefined)_155.push(_36._182)});const _148=_830(_168,_7,_60,_51,_155);const _1102=_168+_488;const _571={_15:_156+'events?w='+_2._44+'&s='+_12._57+'&p='+_65+'&v='+_154+'&pst='+_228()+'&li='+_1102+'&lh=0&ls=0'};_571._7='d='+_148;_136(_571)}function _593(_23,_19,_134,_51,_1116){var _60=[];var _4=_19.value;var _182;var _7=[];_7._721=false;if(_856(_23)&&!_860(_19))return null;if(_19.value&&_19.value.length>_64._570){_5('Event, type: '+_23+', skipping due to large value, details: '+_414(_19),_10());return null}_153(2,_1116,_7);_153(1,_23,_7);if(_19.x<0)_19.x=0;if(_19.y<0)_19.y=0;if(_19.x>65534)_19.x=65534;if(_19.y>65534)_19.y=65534;if(_19.x!=undefined)_153(2,_19.x,_7);if(_19.y!=undefined)_153(2,_19.y,_7);if(_19.element){if(!_19.selector)_19.selector=null;if(!_19.target)_19.target=_140(_19.element)}if(_19.target!=undefined){if(typeof _19.target=='object'&&_19.target.id!=undefined)_19.target=_19.target.id;if(_23!==_6._77&&_19.target&&_19.target.indexOf('||')===-1){const _0=_19.element??_361(_19.target);if(_0){if(_296(_0))return null;if(_483(_0)){_19.target=_140(_370(_0,_371))}var _37=_422(_0);if(_37&&!_296(_37))_19.target=_140(_37)+'||'+_19.target}}}if(_862(_23)){let _237=_134.indexOf(_19.target);if(!_19.target){_237=65535}else if(_237===-1){_237=_134.length;_60.push(_237+':'+_19.target);_134.push(_19.target)}else{_182=_237+':'+_19.target}_153(2,_237,_7)}if(_863(_23)){let _297=_134.indexOf(_19.selector);if(!_19.selector){_297=65535}else if(_297===-1){_297=_134.length;_60.push(_297+':'+_19.selector);_134.push(_19.selector)}_153(2,_297,_7)}else{delete _19.selector}if(_23!==_6._339&&_23!==_6._244)_5('Event, type: '+_23+', time: '+_10()+', details: '+_414(_19),_10());if(_868(_23)){if(_4 instanceof Array)_4=_4.join(', ');_153(1,_51.length,_7)}if(_7._721){_5('Event, type: '+_23+', skipping due to overflow in temp data, details: '+_414(_19),_10());return null}return{_7,_60,_4,_182}}function _414(_19){return _24._115({..._19,element:undefined})}function _838(){return+new Date()-_1._309}function _890(){const _235=_417();const _328=_1._580-(_235.domLoading??0);return Math.ceil(_328)}function _703(){const _235=_417();const _328=(_235.loadEventStart??0)-(_235.fetchStart??0);return Math.ceil(_328)}function _417(){const _589=_3.performance.getEntriesByType('navigation');return _589[_589.length-1]??{}}function _856(_23){return[_6._336,_6._340,_6._339,_6._307,_6._308,_6._200,_6._199,_6._311,_6._730,_6._40,_6._499,_6._510,_6._343,_6._524,_6._520,_6._515,_6._514,_6._404,_6._707,_6._409,_6._692,_6._335,_6._45,_6._344,_6._244,_6._59,_6._261,_6._844].indexOf(_23)!==-1}function _860(_19){return _19.x!==undefined&&_19.y!==undefined&&!isNaN(_19.x)&&!isNaN(_19.y)}function _862(_23){return[_6._307,_6._308,_6._200,_6._199,_6._311,_6._348,_6._312,_6._254,_6._431,_6._430,_6._303,_6._77,_6._404,_6._409,_6._335,_6._313,_6._489,_6._550,_6._344,_6._244,_6._59].indexOf(_23)!==-1}function _863(_23){return[_6._307,_6._308,_6._200,_6._199,_6._311,_6._348,_6._312,_6._254,_6._431,_6._430,_6._303,_6._404,_6._409,_6._335,_6._313,_6._489,_6._550,_6._344,_6._244,_6._59].indexOf(_23)!==-1}function _868(_23){return[_6._312,_6._254,_6._313,_6._59].indexOf(_23)!==-1}function _851(_23){return _904(_23)||_578(_23)||_932(_23)}function _904(_23){return[_6._339,_6._307,_6._308,_6._200,_6._340,_6._199,_6._311,_6._244].indexOf(_23)!==-1}function _578(_23){return[_6._348,_6._312,_6._254,_6._313].indexOf(_23)!==-1}function _932(_23){return[_6._499,_6._510,_6._343,_6._524,_6._520,_6._515,_6._514,_6._404,_6._707,_6._409,_6._692,_6._335].indexOf(_23)!==-1}function _832(){if(!_143(_358(),_1._173)){_1._173=_358();_26(_6._336,_1._173);_1._517=_10()}if(!_143(_1._135,_1._834)){_1._834=_1._135;_26(_6._339,_1._135)}if(!_143(_1._81,_1._203)){_1._203=_1._81;_26(_6._340,_1._81);_1._523=_10()}for(const[_20,_81]of _1._836){const _203=_1._841.get(_20)??{x:0,y:0};if(_143(_81,_203))continue;_1._841.set(_20,_81);_26(_6._344,_81)}var _941=_3.visualViewport?_3.visualViewport.scale:1;var _492={x:_96.round(_96.min(_941,10)*1000),y:_96.round(_96.min(_3.devicePixelRatio,10)*1000)};if(!_143(_492,_1._798)){_26(_6._844,_492);_1._798=_492}if(_3.visualViewport){var _261={x:_3.visualViewport.offsetLeft,y:_3.visualViewport.offsetTop};if(!_143(_261,_1._800)){_26(_6._261,_261);_1._800=_261}}}function _917(){if(!_143(_1._135,_1._806)){_1._806=_1._135;const _0=_14.elementFromPoint(_1._135.x-_1._81.x,_1._135.y-_1._81.y);const _91=_813(_0,_1._135.x,_1._135.y);if(!_91)return;_26(_6._244,{x:_91.x,y:_91.y,element:_91._0})}}function _474(_7){if(!_83)return;if(!_7?.type)throw new Error('Custom event type is required');if(Object.keys(_7)[0]!=='type')_7={type:_7.type,..._7};_7.time=_10();_5('Custom event, type: '+_7.type+', , data: '+_24._115(_7),_10());_873({_15:_156+'custom-events',_7:{website:_2._44,session:_12._57,page:_12._65,pst:_228(),events:[_7]},_40:_146=>_5(_146??'Failed to send custom event',_10())})}function _349(){var _168=_1._309-_1._69;_1._819+=_1._7.length;if(_1._819>_64._843&&!_1._824){_1._824=true;_5('Recording event limit of '+_64._843+' reached. Stopping recording.',_10());_68()}var _148=_830(_168,_1._7,_1._60,_1._51,_1._155);_1._131.push(_148);_1._7=[];_1._51=[];_1._60=[];_1._155=[];_1._309=+new Date();if(_10()>_64._970){_5('Pageview over max.time, stopping.',_10());_829();_16._101(_549);_16._101(_547);_16._101(_535);_16._166(_306);_172=false}else{_854()}}function _830(_168,_7,_60,_51,_155){var _304=[];_153(3,_168,_304);_153(2,_7.length,_304);_304=_304.concat(_7);let _845=_1041.e(_304)+'.'+_428(_60||[])+'.'+_428(_51||[]);const _861=[...new Set(_155||[])].filter(_58=>!_60.includes(_58));_845+='.'+_428(_861);return _845}function _854(){if(_172&&_1._131.length>0){if(_1._301==1){_12._302++}var _71=_12._365?_413():[];for(let _8=0;_8<_1._131.length;_8++){const _827={_15:_156+'events?w='+_2._44+'&s='+_12._57+'&p='+_12._65+'&v='+_154+'&pst='+_228()+'&q='+_1._301+'&li='+_1._814+'&lh='+_1._816+'&ls='+_1._823};_827._7='d='+_1._131[_8];_71.push(_827);_1._301++;_1._814=_1._490;_1._816=_1._173.y;_1._823=_1._203.y}_1._131=[];if(_12._365&&_805(_71.slice(-10))){_817()}else{for(let _8=0;_8<_71.length;_8++){_136(_71[_8])}}if(_1._301>_64._847)_68()}}function _817(){if(_1._411)return;var _13=_413().slice(0,1)[0];if(_13){_1._411=true;_13._95=_13._40=function(){_805(_413().slice(1));_1._411=false;_16._48(_817,1)};_136(_13)}}function _413(){return(_116._273('mf_transmitQueue')||[]).map(a=>({_15:a.url,_7:a.data}))}function _805(_71){return _116._276('mf_transmitQueue',_71.map(a=>({url:a._15,data:a._7})))}async function _873(_13){if(!_13?._15){if(_13?._40)_13._40();return}let _15=_13._15;const _95=_13._95;const _40=_13._40;const _152={method:'GET',headers:{'Content-Type':'text/plain'}};if(_13._7){_152.method='POST';_152.body=_24._115(_13._7);_15=_1087(_15);_218(_152.body,async function(_7){_152.body=_7;_15=_810(_15);await _415()},_415)}else{await _415()}async function _415(){try{const _29=await _3.fetch(_15,_152);if(_95)_95(_29)}catch(_146){if(_40)_40(_146)}}}function _136(_13){if(!_13?._15){if(_13?._40)_13._40();return}_425();if(_1098()&&_3.XDomainRequest){_875(_13)}else if(_3.XMLHttpRequest){if(_13._7&&_13._218){var _874=_2.compressFunction||_218;_874(_13._7,function(_7){_13._7=_7;_13._15=_810(_13._15);_420(_13)},function(){_420(_13)})}else{_420(_13)}}}function _875(_13){try{_13._15=_1113(_13._15);var _122=new _3.XDomainRequest();_122.open(_13._7?'POST':'GET',_13._15);_122.onload=function(){if(_13._95)_13._95(_837(_122))};_122.onerror=function(){if(_13._40)_13._40(_837(_122))};_122.onprogress=function(){_5('XDR progress:'+_13._15,_10())};_122.ontimeout=function(){_5('XDR timeout:'+_13._15,_10())};_122.timeout=20000;_16._48(function(){_122.send(_13._7)},500)}catch(_32){_5('Error in transmitCrossDomain (XDomainRequest): '+_32.message,_10());if(_13._40)_13._40({})}}function _420(_13){try{const _61=_22._991();_61.onreadystatechange=function(){if(_61.readyState!==4||!_61.status)return;if(_1092(_61.status)){if(_13._95)_13._95(_831(_61))}else{if(_13._40)_13._40(_831(_61))}};_61.open(_13._7?'POST':'GET',_13._15,true);_61.setRequestHeader('Content-Type','application/x-www-form-urlencoded');if(_13._881)_61.withCredentials=true;_61.send(_13._7)}catch(_32){_5('Error in transmitCrossDomain (XMLHttpRequest): '+_32.message,_10());if(_13._40)_13._40({})}}function _837(_122){return{_350:_122.responseText}}function _831(_61){return{_454:_61.status,_350:_61.response}}async function _218(_7,_95,_40){if(!_3.CompressionStream){if(_40)_40();return}const _961=new _3.TextEncoder();const _1022=new _3.ReadableStream({start(_797){_797.enqueue(_961.encode(_7));_797.close()}}).pipeThrough(new _3.CompressionStream('gzip'));const _1112=_1022.getReader();let _148;let _828=false;const _131=[];let _210=0;while(!_828){try{_148=await _1112.read();if(_148.value){_131.push(_148.value);_210+=_148.value.length}if(_148.done)_828=true}catch(_146){if(_40)_40(_146);return}}let _29;if(_131.length===1){_29=_131[0]}else{_29=new Uint8Array(_210);var _826=0;_131.forEach(function(_4){_29.set(_4,_826);_826+=_4.length})}if(_95)_95(_29)}function _818(_15,_1121){return _15+(_15.indexOf('?')===-1?'?':'&')+_1121}function _810(_15){return _818(_15,'gz=1')}function _1087(_15){return _818(_15,'json=1')}function _293(_23,_7){_136({_15:_156+'data',_7:'website='+_2._44+'&session='+_12._57+'&page='+_12._65+'&type='+_23+'&pst='+_228()+'&canonicalPage='+_76._120()+'&data='+_94(_24._115(_7))})}function _1092(_454){return _454>=200&&_454<300}function _1098(){return _14.all&&!_3.atob;}function _726(){return _14.all&&!_14.addEventListener;}function _1113(_15){return _15.replace(/^https?:/i,_2.location.protocol)}function _1127(_45){var _366=_24._115(_45._7);if(_366&&_366.length>_2._1131){_5('DOM size too big, not sending, size: '+_24._257(_366.length),_10());_77('mf_secret_html-too-big');return}var _196=_94(_366);var _1133=5242000;var _292=_196.length<=_1133;var _13={_15:_156+'html'+'?website='+_45._54._44+'&session='+_45._54._57+'&page='+_45._54._65,_7:'size='+_45._157+'&html='+_196+'&pst='+_228()+'&canonicalPage='+_94(_76._120()),_218:_2.compress};if(_12._365&&_292){var _71=_809();if(_196!==''){_5('Adding initial DOM to queue, size: '+_24._257(_196.length),_10());_71.push(_13)}else _5('Initial DOM empty, not sending',_10());if(_691(_71.slice(-10)))_839();else{_803(_13,_292,_196.length)}}else{if(_196==''){_5('Initial DOM empty, not sending',_10());return}_803(_13,_292,_196.length)}}function _839(){var _71=_809();var _13=_71.splice(0,1)[0];if(_13){_5('Sending initial DOM mutations. Size: '+_13._7.length,_10());_13._95=_13._40=function(){_691(_71);_16._48(_839,1)};_136(_13)}}function _803(_13,_292,_804){if(_292){_5('Transmitting initial DOM without queue due to no sessionstorage, size: '+_24._257(_804),_10())}else{_5('Transmitting initial DOM without queue due too big html, size: '+_24._257(_804),_10())}_136(_13)}function _809(){return(_116._273('mf_initialDomQueue')||[]).map(a=>({_15:a.url,_7:a.data,_218:a.compress}))}function _691(_71){return _116._276('mf_initialDomQueue',_71.map(a=>({url:a._15,data:a._7,compress:a._218})))}function _1031(_45){var _169=_45._7.args[1].some(function(_118){return _443._169(_118)});if(_169){_5('DOM mutation is a duplicate and has not been added.',_10());return}var _820=_1065(_45,_1._222);if(_820>-1){_1._222[_820]._7=_45._7;_5('Deduplicating DOM mutation',_10());return}if(_2.domReuse){var _359=_1007(_45);var _822=_1003(_359);if(_822>-1){_45.sequence=_822;_5('Reusing already sent DOM mutation, sequence '+_45.sequence,_10());_26(_6._45,{x:_45.sequence,y:0});return}else _1._457.push(_359)}_45.sequence=++_1._998;_26(_6._45,{x:_45.sequence,y:0});_1._222.push(_45);if(!_290)_290=_16._48(_821,1500)}function _1003(_359){for(var i=0;i<_1._457.length;i++)if(_1._457[i]==_359)return i+1;return-1}function _1007(_45){return _102(_24._115(_45._7))}function _821(){_290=0;if(_172&&_1._222.length>0){const _815=_1._222.length;const _354=new Map();for(const _45 of _1._222){const _54='website='+_45._54._44+'&session='+_45._54._57+'&page='+_45._54._65+'&pst='+_228();const _7=_45.sequence+'.'+_1014(_24._115(_45._7));if(!_354.has(_54))_354.set(_54,[]);const _450=_354.get(_54);_450.push(_7)}_1._222=[];for(const[_54,_450]of _354){var _7=_450.join('|||');_7=_54+'&data='+_94(_7);_136({_15:_156+'dom',_7:_7,_218:_2.compress});_5('Sending DOM mutations: '+_815+', size: '+_7.length,_10());_1._812+=_815;if(_1._812>_64._811){_5('DOM mutation limit of '+_64._811+' reached. Stopping recording.',_10());_68()}}}}function _1065(_187,_808){if(!_2.domDeduplicator)return-1;var _78=_187._7.args;var _807=_801(_78);var _802=_799(_78);if(!_807&&!_802)return-1;for(var i=0;i<_808.length;i++){var _487=_808[i]._7.args;if(_807&&_801(_487)&&_1044(_78[2],_487[2])){return i}else if(_802&&_799(_487)){return i}}return-1}function _801(_78){return _825(_78)&&_78[2].filter(_1077).length===_78[2].length}function _799(_78){return _825(_78)&&_78[2].filter(_1078).length===_78[2].length}function _825(_78){return _78[0].length===0&&_78[1].length===0&&_78[2].length>0&&_78[3].length===0}function _1077(_319){return _319.attributes.style&&_842(_319.attributes)===1}function _1078(_319){return _319.attributes.d&&_842(_319.attributes)===1}function _842(obj){var count=0;for(var prop in obj)if(Object.prototype.hasOwnProperty.call(obj,prop))count++;return count}function _1044(_479,_840){if(_479.length!==_840.length)return false;for(var i=0;i<_479.length;i++){var _1046=_479[i],_1047=_840[i];if(_1046.id!==_1047.id)return false}return true}function _410(){if(_1._7.length>0&&_838()>=5000){_26(_6._410,{});_349()}}function _121(){_5('Inactivity timeout.',_10());_68(true)}function _143(_127,_835){return _127.x==_835.x&&_127.y==_835.y}function _358(){return{x:_3.innerWidth,y:_3.innerHeight}}function _833(_194){if(!_194||!_194.getBoundingClientRect)return null;var _181=_194.getBoundingClientRect();var _323;if(!_194.childElementCount&&!_181.height&&!_181.width)_323=_995(_194);if(!_323){return{x:_181.left,y:_181.top,width:_181.width,height:_181.height}}else{_323.x+=_181.left-_194.offsetLeft;_323.y+=_181.top-_194.offsetTop;return _323}}function _995(_0){var _253=window.getComputedStyle(_0,[':after']);if(!_253)return _253;return{x:+_253.left.slice(0,-2),y:+_253.top.slice(0,-2),width:+_253.width.slice(0,-2),height:+_253.height.slice(0,-2)}}function _140(_0){if(_2.useSelectorGenerator)return _185._519(_0);var _317=_159.get(_0);if(_317)return _317;try{var _58=[];while(_0){var _46=_0.getRootNode?_22._975(_0):_14;_58.unshift(_1056(_0,_46)||_1054(_0,_46));_0=_46.host}return _58.join(' > :document-fragment: > ')}catch(_32){_5('Error in getElementPath: '+_32.message,_10())}return''}function _1056(_0,_46){var _21=_0.attributes?.['name']?_0.attributes['name'].value:null;if(_21&&_422(_0)&&/button|input|select|textarea/.test(_0.tagName.toLowerCase())){var _369=_46.getElementsByName(_21);if(_369.length===1)return _21;if(_369.length>1){for(var _8=0;_8<_369.length;_8++)if(_0===_369[_8])return _21+'['+_8+']_mf'}}return null}function _1054(_42,_46){var _25=[];try{while(_42&&_42.nodeType===1){var _18='';var _99=_22._74(_42);if(!_99)return'';var _317=_159.get(_42);if(_317){_25.unshift(_317);break}if(_42.tagName==='TABLE'&&_25.indexOf('tbody')===-1&&_25.indexOf('thead')===-1)_25.unshift('tbody');if(_42.getAttribute('data-mf-id')){_18+='[data-mf-id="'+CSS.escape(_42.getAttribute('data-mf-id'))+'"]';_25.unshift(_18);break}if(_42.getAttribute('id')&&!_24._220(_42,'data-mf-ignore-child-ids')&&_2.useIdSelectors){_18+='#'+_42.getAttribute('id');_25.unshift(_18);break}_18+=_42.tagName.toLowerCase();var _374='',_418=_42,_416=1;if(_99?.tagName?.toLowerCase()=='body'){var _160=_24._258(_42);_374=_160.length?'.'+_160.join('.'):''}if(_374!==''&&_46.querySelectorAll(_794('body > '+_18+_374)).length===1)_18+=_374;else{while((_418=_418.previousElementSibling)){if(_418.tagName.toLowerCase()===_18)_416++}if(_416!==1)_18+=':['+_416+']'}_25.unshift(_18);_42=_99}}catch(_32){_5('Error in _getCssPath: '+_32.message,_10())}return _25.join(' > ').replace('html > body > ','> ')}function _361(_58,_1053=true){if(!_58)return null;if(_2.useSelectorGenerator)return _185._185(_58);var _0=_1052(_58);if(!_0){try{var _46=_14;_794(_58).split(' > :document-fragment: > ').forEach(function(_18){_0=_46.querySelector(_18);_46=_0.shadowRoot})}catch(_32){if(_1053)_5('Error in _getElementById: '+_32.message,_10())}}return _0}function _1052(_21){if(!_21)return null;var _63=_795.exec(_21);if(_63&&_63[1]){try{var _39=_3.parseInt(_63[1]);return _14.getElementsByName(_21.replace(_795,''))[_39]}catch(_32){}}var _92=_14.getElementsByName(_21);if(_92&&_92.length===1)return _92[0];return null}function _794(_25){if(!_25)return null;if(_25.substr(0,1)==='>')_25='html > body '+_25;_25=_25.replace(/^(\d)/,'\\3$1 ');_25=_25.replace(/#(\d)/,'#\\3$1 ');_25=_25.replace(/#(-\d)/,'#\\$1');_25=_25.replace(/:(?!\[)/g,'\\:');_25=_25.replace(/\\:document-fragment\\:/g,':document-fragment:');_25=_25.replace(/^#\S+/,function(_63){return _63.replace(/\./g,'\\.');});_25=_25.replace(/:\[([^\]]+)\]/g,':nth-of-type($1)');_25=_25.replace(/([{}[\]/;%$~@&<*^])/g,'\\$1');_25=_25.replace(/\\\[([^=]+="[^"]+")\\\]/g,'[$1]');return _25}function _153(_1048,_4,_331){for(var _8=_1048-1;_8>0;_8--){var _719=_96.pow(256,_8);_720(_96.floor(_4/_719),_331);_4=_4% _719}_720(_4,_331)}function _720(_722,_331){if(_722>255){_331._721=true;return}_331.push(_722)}function _428(_0){var _29='';for(var _8=0;_8<_0.length;_8++){_29+=(_8>0?',':'')+_444(_0[_8])}return _29}function _346(_0){if(!_0)return 0;if(typeof _0==='string')return _444(_0).length;if(_0.length){var _157=0;for(var _8=0;_8<_0.length;_8++)_157+=_444(_0[_8]).length+1;return _157>0?_157-1:_157}return 0}function _444(_4){return _1058.encode(''+_4)}function _723(_21,_4,_213,_27){if(_2.preferStorageApi)_70._108(_21,_4);else _299._108(_21,_4,_213,_27)}function _724(_21){if(_2.preferStorageApi)return _70._130(_21)||'';else return _299._130(_21)}function _1043(_21){if(_2.preferStorageApi){_116._277(_21);_70._277(_21)}else{_299._277(_21)}}var _1041=new function(){for(var d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'.split(''),c=64;c;)--c;this.e=function(e){let a=[],f=0,b=0,g,c=e.length,h=c% 3;for(;f<c;)a[b++]=d[(g=e[f++]<<16|e[f++]<<8|e[f++])>>18&63]+d[g>>12&63]+d[g>>6&63]+d[g&63];if(h)for(a[--b]=a[b].substr(0,a[b].length-(h=3-h));h--;)a[b]+='*';return a.join('')}};var _1058={_338:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',encode:function(c){for(var a='',d,b,e,i,h,f,g=0,c=this._1059(c);g<c.length;)d=c.charCodeAt(g++),b=c.charCodeAt(g++),e=c.charCodeAt(g++),i=d>>2,d=(d&3)<<4|b>>4,h=(b&15)<<2|e>>6,f=e&63,isNaN(b)?h=f=64:isNaN(e)&&(f=64),a=a+this._338.charAt(i)+this._338.charAt(d)+this._338.charAt(h)+this._338.charAt(f);return a},_1059:function(c){for(var c=c.replace(/\r\n/g,'\n'),a='',d=0;d<c.length;d++){var b=c.charCodeAt(d);128>b?a+=String.fromCharCode(b):(127<b&&2048>b?a+=String.fromCharCode(b>>6|192):(a+=String.fromCharCode(b>>12|224),a+=String.fromCharCode(b>>6&63|128)),a+=String.fromCharCode(b&63|128))}return a}};function _438(){var _127=function(){return((1+_96.random())*65536|0).toString(16).substring(1)};return _127()+_127()+_127()+_127()+_127()+_127()+_127()+_127()}var _433=0;function _334(){if(_14.body){_5('Initializing recorder');if(!_1060())return;if(_1061)_1079(_725);else _725();return}_433++;if(_433===1){_5('Retrying to initialize recorder - document.body is not set',_10())}else if(_433===25){_5('Failed to initialize recorder',_10());return}_16._48(_334,200)}function _725(){_5('Initializing recorder',_10());if(!_735(_2.location.hostname))return;if(_726()){_5('Recording not started - browser is IE8 or older',_10());return}if(_727)_1076();if(_727||_1075)return;_429=true;function _728(){if(!_83&&_2.autoStart&&_14.readyState!=='loading')_31();_501(_703())}_55._176(_14,'readystatechange',_728);_728()}function _501(_328){if(_553||!_83||_14.readyState!=='complete')return;_26(_6._730,{x:_328,y:_347?_347.scrollHeight:_24._480()});_553=true}function _1073(){return _2.useUnload?'unload':'beforeunload'}function _332(_741,_731){return _741.indexOf(_731,_741.length-_731.length)!==-1}function _102(_41){var _119=0,_732;for(var _8=0;_8<_41.length;_8++){_732=_41.charCodeAt(_8);_119=((_119<<5)-_119)+_732}return _119.toString()}function _734(_11){for(var _8=0;_8<_1._144.length;_8++)if(_1._144[_8].split('_')[0]===_102(_11)){return _8}return-1}function _733(_11,_4){var _540=_734(_11);var _545=_102(''+_4);if(_540>-1){if(_1._144[_540].split('_')[1]===_545){return false}_1._144[_540]=_102(_11)+'_'+_545}else if(_1._144.length<20){_1._144.push(_102(_11)+'_'+_545)}return true}function _735(_27){var _1064=_27;_27=_536(_27);var _736=false;for(let _8=0;_8<_291.length;_8++){if(_27==_536(_291[_8])){_736=true;break}}_27=_1063(_27);var _737=false;for(let _8=0;_8<_291.length;_8++){if(_27==_536(_291[_8])){_737=true;break}}var _29=_736||_737;if(!_29)_5('Domain was blocked: '+_1064+' - domain list: '+_291,_10());return _29}function _536(_27){if(_27==null)return'';_27=_27.toLowerCase();_27=_27.replace(/^\s+|\s+$/g,'');if(_27.substring(0,4)=='www.'){_27=_27.substring(4,_27.length)}return _27}function _1063(_27){if(_2.includeSubDomains){_27=_1062(_27)}return _27}function _1062(_27){var _126=_27.split('.');if(_126.length<=2)return _27;if(_27.indexOf('.co.')>-1||_27.indexOf('.com.')>-1||_27.indexOf('.org.')>-1){_126=_126.slice(_126.length-3,_126.length);return _126.join('.')}_126=_126.slice(_126.length-2,_126.length);return _126.join('.')}function _1040(){var _29=[];if(typeof Ember!='undefined')_29.push('em');if(typeof angular!='undefined')_29.push('an');if(typeof Backbone!='undefined')_29.push('bb');return _29}function _1070(){if(_2.autoTagging){_5('Autotagging session',_10());var _738=['utm_source','utm_medium','utm_term','utm_content','utm_campaign','gclid'];for(var _8=0;_8<_738.length;_8++){var _558=_738[_8];var _4=_739(_2.location.href,_558);if(!_4)_4=_739(_2.referrer,_558);if(_4)_112._744(['setVariable',_558,_4])}}}function _739(_15,_21){_21=_21.replace(/[[]/,'\\[').replace(/[\]]/,'\\]');var regex=new RegExp('[\\?&]'+_21+'=([^&#]*)'),results=regex.exec(_15);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '))}const nonWordCharactersRegex=/[\s"'.,_\-+/*:=!?@#%&{}[\]\\|]/;function _1012(_551){return!nonWordCharactersRegex.test(_551)}function _1009(_4,_522){var _29='';for(var _8=0;_8<_522;_8++){_29+=_4}return _29}function _228(){return _1._740||_1._69}function _10(){return+new Date()-_1._69}function _1008(urlLength){var _189=_2.location.href;var _729=_64._718-urlLength-6;if(_94(_189).length>_729)_189=_189.split('#')[0];if(_94(_189).length>_729)_189=_189.split('?')[0];return _94(_189)}function _1000(_17){var _999=_17 instanceof Element;if(!_999)return false;var _717=_3.getComputedStyle(_17);var _502=_717?_717['white-space']:'';if(_502&&(_502.indexOf('pre')>-1||_502==='break-spaces'))return true;return false}this._334=_334;this._31=function(){_31();_501(_703())};this._68=_68;this._385=_385;this._419=_419;this._939=function(){return _12._57};this._937=function(){return _12._65};this._77=_77;this._537=_537;this._538=_538;this._509=_509;this._503=_503;this._282=_282;this._402=_402;this._123=function(_4,_21){_123({_4:_4,_693:_21,_121:0})};this._172=function(){return _172};this._936=function(){return _12._281};this._286=_286;this._245=_245;this._180=_180;this._154=_154;this._500=_500;this._221=_221;this._935=function(){_123(_80._493)};this._363=_363;this._531=_531;this._474=_474}function _761(_22,_2){var _700=[];function _169(_118){if(!_2.domMutationDetectorEnable||!_118||_118.nodeType!==1)return false;var _99=_22._74(_118);var _694=_99?_99.id:undefined;var _695=_118.previousSibling?_118.previousSibling.id:undefined;var _1035=_118.tagName;var _696=_118.attributes?_118.attributes.id:undefined;var _697=_118.attributes?_118.attributes.class:undefined;var _11=_1035;if(_2.domMutationUseParentNode&&_694)_11+='_'+_694;if(_2.domMutationUsePreviousSibling&&_695)_11+='_'+_695;if(_696)_11+='_'+_696;if(_697)_11+='_'+_697.replace(/\s/g,"_");var _701=+new Date();var _187=_700[_11];var _521=_187?_187._522:0;var _1029=_187?((_701-_187._1026)/1000):0;var _698=_521<_2.domMutationCountThreshold;var _699=_1029<_2.domMutationTimeThresholdInSeconds;var _169=_187?(_698&&_699):false;if(!_698||!_699)_521=0;_700[_11]={_1026:_701,_522:_521+1};return _169}this._169=_169}function _945(_3,_16,_2,_111,_24,_55,_76,_70){var _38,_44,_5,_82;var _372='mf_liveHeatmaps';var _35;var _270=[];var _97;var _373=false;function _31(_465,_201,_269,_164){_44=_465;_38=_269;_5=_201;_373=window.location.search.indexOf('mf_legacy=1')!==-1?true:false;_5('Live heatmaps starting');_82=_111._230();if(!_82){_5('Live heatmaps not initiated - could not create root HTML element');return}if(!_3.opener){_5('Live heatmaps not initiated - window.opener is missing');return}if(typeof _164==='function'){_164(function(){_161()})}else{_161()}}function _68(){_1023()}function _161(){_55._176(_3,'message',function(_28){if(_28.origin!==_38)return;_198(_28.data);switch(_28.data.message){case'MouseflowLiveHeatmaps_Init_Received':_3.clearInterval(_97);break;case'MouseflowLiveHeatmaps_Init_Success':case'MouseflowLiveHeatmaps_Hello':_89(_28.data);_186(_28.data.scripts,function(){var message;if(_373){message={mfCommand:'settings',value:{websiteSettings:_28.data.websiteSettings}}}else{_706();message={mfCommand:'settings_liveheatmap',value:_35}}_421(JSON.stringify(message))});break;case'MouseflowLiveHeatmaps_StreamData_Chunk':_280(_28.data.requestUrl,true)._447(_28.data.dataChunk);break;case'MouseflowLiveHeatmaps_StreamData_Success':_280(_28.data.requestUrl)._219();break;case'MouseflowLiveHeatmaps_StreamData_Error':_280(_28.data.requestUrl)._209();break;case'MouseflowLiveHeatmaps_RequestData_Success':_280(_28.data.requestUrl)._219(_28.data.responseText);break;case'MouseflowLiveHeatmaps_RequestData_Error':_280(_28.data.requestUrl)._209();break}});_97=_16._145(_272,500);_16._48(function(){_16._101(_97)},10000);_272()}function _272(){_177({message:'MouseflowLiveHeatmaps_Init',websiteId:_44,legacy:_373})}function _89(_89){_35=_702();var _278=_704();var _352=_2.location.search.match(/mf_liveHeatmaps=([^&]+)/);var _518=typeof _3.name==='string'&&_3.name.indexOf('mf_liveHeatmaps')===0?_3.name.slice(15).split('_'):[];var _1024=_352||_518[1]==='init';if(_35&&!_1024){_35.filters.url=_278.url;_512(_35);return}_35={isMinimized:false,appUrlBase:_38,websiteId:_44,filters:_278,minDate:_89.minDate,filteredViews:_89.filteredViews,user:_89.user,website:_89.website,mutedEvents:_89.mutedEvents,supportedLanguages:_89.supportedLanguages,accountFeatures:_89.accountFeatures};if(_89.filters&&_89.filters.view){_35.selectedFilteredView=_89.filters.view;delete _89.filters.view}if(_89.filters){Object.keys(_89.filters).forEach(function(_11){var _4=_89.filters[_11];if(_4 instanceof Date)_4=_360(_4);_35.filters[_11]=_4})}if(_352&&_352[1]!=='1')_35.filters.maptype=_352[1];else if(_518[2])_35.filters.maptype=_518[2];_512(_35);_3.name='mf_liveHeatmaps'}function _706(){_35.devices=_35.filters.device?_35.filters.device.and||_35.filters.device.or:[];_35.mapType=_35.filters.maptype;_35.url=_35.filters.url=_76._120();_177({message:'MouseflowLiveHeatmaps_SetSettings',settings:_35})}function _186(_110,_43){if(!_110)return;var _125=0;function _184(){if(_125>=_110.length){_43();return}var _50=_110[_125];_268(_50);_125++;var _100=document.createElement('script');if(_50.startsWith('/'))_100.src=_38+_50;else _100.src=_38+'/'+_50;_100.onload=_184;_82.appendChild(_100)}_184()}function _702(){return _70._273(_372)}function _512(_35){if(_5)_5('Live heatmaps saving settings');_70._276(_372,_35)}function _1023(){if(_5)_5('Live heatmaps removing settings');_70._277(_372)}function _280(_15,_1081){var _152=_270.filter(function(_1020){return _1020._15===_15})[0];if(!_1081&&_152)_270.splice(_270.indexOf(_152),1);return _152}function _1130(_13){if(typeof _13!=='object')return;_35=_702();var _278=_704();Object.keys(_13).forEach(function(_11){var _4=_13[_11];if(_4 instanceof Date)_4=_360(_4);_35.filters[_11]=_4||undefined});Object.keys(_278).forEach(function(_11){if(!_35.filters[_11])_35.filters[_11]=_278[_11]});if(_35.filters.view){_35.selectedFilteredView=_35.filters.view;delete _35.filters.view}_512(_35)}function _704(){var _247=new Date();_247=new Date(_247.getFullYear(),_247.getMonth(),_247.getDate());var _476=new Date(_247);_476.setDate(_476.getDate()-29);return{maptype:'click',url:_76._120(),fromdate:_360(_476),todate:_360(_247)}}function _177(_7){_3.opener.postMessage(_7,_38);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _421(_7){_3.postMessage(_7,_3.location.origin);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _198(_7){if(_7.message&&_7.message.indexOf('MouseflowLiveHeatmaps_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _268(_50){_5('Live heatmaps loading script: '+_50)}function _360(_98){return _98.getFullYear()+'-'+_715(_98.getMonth()+1,'00')+'-'+_715(_98.getDate(),'00')}function _715(_1132,_705){return(_705+_1132).slice(-_705.length)}this._31=_31;this._68=_68;this._504=function(_13){_1130(_13);if(_373){_421('{"mfCommand":"MouseflowHeatmap_UpdateHeatmap"}')}else{_706();var message={mfCommand:'settings_change',value:{settings:_35,reloadData:_13&&_13.maptype?false:true}};_421(JSON.stringify(message))}_5('Sent postmessage updateheatmap')};_3.mouseflowHeatmap={streamData:function(_15,_447,_219,_209){_270.push({_15:_15,_447:_447||function(){},_219:_219||function(){},_209:_209||function(){}});_177({message:'MouseflowLiveHeatmaps_StreamData',requestUrl:_15})},getData:function(_15,_219,_209){_270.push({_15:_15,_219:_219||function(){},_209:_209||function(){}});_177({message:'MouseflowLiveHeatmaps_RequestData',requestUrl:_15})}}}function _946(_3,_16,_2,_111,_24,_55,_76,_70){const _372='mf_liveHeatmaps';let _38,_44,_5,_82;let _97;const _14=_3.document;const _1146=_3.location.search.slice(1).split('&').map(a=>a.split('=',2)).filter(a=>a[0]).reduce((acc,cur)=>(acc[cur[0]]=cur[1]??null,acc),{});function _31(_465,_201,_269,_164){_44=_465;_38=_269;_5=_201;_5('Live heatmaps starting');_82=_111._230();if(!_82){_5('Live heatmaps not initiated - could not create root HTML element');return}if(!_3.opener){_5('Live heatmaps not initiated - window.opener is missing');return}if(typeof _164==='function'){_164(function(){_161()})}else{_161()}}function _68(){}function _161(){_55._176(_3,'message',function(_28){if(_28.origin!==_38)return;_198(_28.data);switch(_28.data.message){case'MouseflowLiveHeatmapsV3_Init_Received':_16._101(_97);break;case'MouseflowLiveHeatmapsV3_Init_Success':_186(_28.data.scripts);break}});_97=_16._145(_272,500);_16._48(function(){_16._101(_97)},10000);_272()}function _272(){_177({message:'MouseflowLiveHeatmapsV3_Init',websiteId:_44,prod:_1146.prod!==undefined})}function _186(_110){for(const _50 of _110){const _0=_14.createElement(_50.tagName);if(_50.textContent){_0.textContent=_50.textContent}for(const _11 in _50.attributes){const _4=_50.attributes[_11];if(_11==='src'||_11==='href'){_0[_11]=_38+_4}else{_0.setAttribute(_11,_4)}}if(_0.tagName==='SCRIPT'){_0.async=false}if(_0.tagName==='SCRIPT'&&_0.type==='importmap'){_0.textContent=_0.textContent.replace(/(:\s*")(\/[^"]+")/g,`$1${_38}$2`)}_82.appendChild(_0)}}function _177(_7){_3.opener.postMessage(_7,_38);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _198(_7){if(_7.message&&_7.message.indexOf('MouseflowLiveHeatmapsV3_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}this._31=_31;this._68=_68;this._504=function(){window.updateSpaPage()}}function _947(_3,_111,_22,_16,_24,_55,_2){var _5,_82,_97,_38,_188,_342;function _31(_1156,_44,_1178,_1169,_1177,_1173,_201,_43){_38=_1156;_342=new URL(_38).origin;_5=_201;_188=_43;_5('[PrivacyTool] _start called');_5('[PrivacyTool] appUrl: '+_38);_5('[PrivacyTool] appOrigin: '+_342);_82=_111._230();_5('[PrivacyTool] Root element created? '+!!_82);if(!_82){_5('Privacy tool not initiated - could not create root HTML element');return}if(!_3.opener){_5('Privacy tool not initiated - window.opener is missing');return}_161()}function _161(){_5('[PrivacyTool] Setting up event listener');_55._176(_3,'message',function(_28){_5('[PrivacyTool] message event received: '+_28.origin+', '+(_28.data?.message));if(_28.origin!==_342){_5('[PrivacyTool] Ignored message from unexpected origin: '+_28.origin);return}_198(_28.data);switch(_28.data.message){case'MouseflowPrivacyTool_Init_Received':_5('[PrivacyTool] Init_Received acknowledged');_3.clearInterval(_97);break;case'MouseflowPrivacyTool_Init_Success':_5('[PrivacyTool] Init_Success received');_186(_28.data.scripts,function(){try{_5('[PrivacyTool] All scripts loaded');var payload=_28.data.payload||{};_5('[PrivacyTool] Payload: '+JSON.stringify(payload));privacyToolWidget.start(payload.appUrl,payload.blacklist||[],payload.whitelist||[],payload.tracked||[],payload.masked||[]);_5('[PrivacyTool] Widget started');if(typeof _188==='function')_188()}catch(e){_5('[PrivacyTool] Failed to start widget: '+e)}});break;default:_5('[PrivacyTool] Unknown message: '+(_28.data?.message))}});_97=_3.setInterval(_708,500);_3.setTimeout(function(){_5('[PrivacyTool] Init timeout reached, clearing interval');_3.clearInterval(_97)},10000);_708()}function _708(){_5('[PrivacyTool] Posting Init message to opener');try{_3.opener.postMessage({message:'MouseflowPrivacyTool_Init'},_342)}catch(e){_5('[PrivacyTool] Failed to post Init message: '+e)}}function _186(_110,_43){if(!_110)return;var _125=0;function _184(){if(_125>=_110.length){_43();return}var _50=_110[_125];_268(_50);_125++;var _100=document.createElement('script');if(_50.startsWith('/'))_100.src=_38+_50;else _100.src=_38+'/'+_50;_100.onload=_184;_82.appendChild(_100)}_184()}function _268(_50){_5('Privacy Tool loading script: '+_50)}function _198(_7){if(_7.message&&_7.message.indexOf('MouseflowPrivacyTool_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}this._31=_31}function _942(_3,_111,_16,_24,_55,_2,_76){var _5,_82,_97,_38,_710,_188;function _31(_201,_269,_1154,_43){_38=_269;_5=_201;_188=_43;_710=!!_1154;_5('Tagger tool starting');_82=_111._230();if(!_82){_5('Tagger tool not initiated - could not create root HTML element');return}if(!_3.opener){_5('Tagger tool not initiated - window.opener is missing');return}_161()}function _161(){_55._176(_3,'message',function(_28){if(_28.origin!==_38)return;_198(_28.data);switch(_28.data.message){case'MouseflowTaggerTool_Init_Received':_16._101(_97);break;case'MouseflowTaggerTool_Init_Success':_186(_28.data.scripts,function(){taggerToolWidget.start(_76._120());if(typeof _188==='function')_188();_5('Tagger tool scripts loaded')});break}});_97=_16._145(_709,500);_16._48(function(){_16._101(_97)},10000);_709()}function _709(){_177({message:'MouseflowTaggerTool_Init',startWithHeatMap:_710})}function _186(_110,_43){if(!_110)return;var _125=0;function _184(){if(_125>=_110.length){_43();return}var _50=_110[_125];_268(_50);_125++;var _100=document.createElement('script');if(_50.startsWith('/'))_100.src=_38+_50;else _100.src=_38+'/'+_50;_100.onload=_184;_82.appendChild(_100)}_184()}function _268(_50){_5('Tagger tool loading script: '+_50)}function _198(_7){if(_7.message&&_7.message.indexOf('MouseflowTaggerTool_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _177(_7){_3.opener.postMessage(_7,_38);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}this._31=_31}function _922(_2,_530,_497){function _120(){if(_2.forcePath&&_2.path)return _2.path.toLowerCase();var _73=(_2.crossDomainSupport?_2.location.hostname:'')+(_2.path||(_2.decodePathName?decodeURIComponent(_2.location.pathname):_2.location.pathname)).toLowerCase();var _119=(_2.includeHashInPath?_2.location.hash:'').toLowerCase();var _109=_2.location.search.toLowerCase();if(_73!=='/'&&_73.slice(-1)==='/'&&(!_2.includeQueryStringInPath&&!_2.includeHashInPath))_73=_73.slice(0,-1);return _1151(_73+(_2.includeQueryStringInPath?_109:'')+_119)||_73+_1150(_109)+_119}function _1151(_73){return _530.filter(function(_72){return _1124(_73,_72)}).map(function(_72){return _1100(_72)})[0]}function _1150(_109){if(_109[0]==='?')_109=_109.slice(1);var _63;var _505=[];var _1128=/([^&=]+)=?([^&]*)/g;while((_63=_1128.exec(_109))!==null){var _39=_497.indexOf(_63[1]);if(_63[2]&&_39>-1)_505[_39]=_63[0]}return _505.length?'?'+_505.filter(hasValue).join('&'):(_2.includeQueryStringInPath&&_109?'?'+_109:'')}function _1124(_73,_72){var _711=_73.indexOf('?');if(!_2.includeQueryStringInPath&&_711>-1)_73=_73.slice(0,_711);switch(_72._23){case'equals':return _73===_72._4.toLowerCase();case'startsWith':return _73.substr(0,_72._4.length)===_72._4;case'endsWith':return _73.substr(-_72._4.length)===_72._4;case'contains':return _73.includes(_72._4.toLowerCase());case'regex':return new RegExp(_72._4).test(_73);default:return false}}function _1100(_72){if(_72._1125)return _72._1125;switch(_72._23){case'startsWith':return _72._4+'*';case'endsWith':return'*'+_72._4;default:return _72._4}}function hasValue(value){return value}this._120=_120}function _712(_23,_3,_24,_5){var _262=_1096(_23);this._130=function(_11){try{return _262.getItem(_11)||null}catch(e){_5(e);return null}};this._273=function(_11){try{return _24._288(this._130(_11))||null}catch(e){_5(e);return null}};this._108=function(_11,_4){try{_262.setItem(_11,_4);return true}catch(e){_5(e);return false}};this._276=function(_11,_4){try{return this._108(_11,_24._115(_4))}catch(e){_5(e);return false}};this._277=function(_11){try{_262.removeItem(_11)}catch(e){_5(e)}};this._781=function(){try{var _11='mf_supportsSessionStorage';var _4='1';_262.setItem(_11,_4);var _1097=_262.getItem(_11)===_4;_262.removeItem(_11);return _1097}catch(e){_5(e);return false}};function _1096(_23){switch(_23){case'local':return _3.localStorage;case'session':return _3.sessionStorage;default:throw Error('Unknown storage type: '+(_23||'null'))}}}function _1093(_3,_24,_2,_5){var _14=_3.document;var _67=_3.location;var _1089=7776000000;this._1090=function(_21){var _714=_21+'=';var _713=_14.cookie.split(';');for(var i=0;i<_713.length;i++){var c=_713[i];while(c.charAt(0)===' '){c=c.substring(1)}if(c.indexOf(_714)===0){return c.substring(_714.length,c.length)}}return''};this._130=function(_11){try{return this._1090(_11)}catch(e){_5(e);return null}};this._273=function(_11){try{return _24._288(this._130(_11))||null}catch(e){_5(e);return null}};this._1084=function(_21,_4,_213,_27){var _716='';if(_213==1){var _98=new Date();_98.setTime(_98.getTime()+_1089);_716='; expires='+_98.toGMTString()}var _1085=_2.secureCookie?'secure;':'';_14.cookie=_21+'='+_4+_716+'; path=/; domain='+_27+';'+_1085+'SameSite=Strict;'};this._108=function(_11,_4,_213,_27){try{this._1084(_11,_4,_213,_27);return true}catch(e){_5(e);return false}};this._276=function(_11,_4,_213,_27){try{return this._108(_11,_24._115(_4),_213,_27)}catch(e){_5(e);return false}};this._277=function(_11){try{_14.cookie=_11+'=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain='+_24._333(_67,_2)+';'}catch(e){_5(e)}}}function _916(_3,_16,_24,_2,_5){this._742=function(){_3._mfq=[]};this._446=function(){if(!_3._mfq)this._742();for(var _39=0;_39<_3._mfq.length;_39++){var _53=_3._mfq[_39];if(_53&&_53.length){var _743=true;if(_53[0]==='config')_2._355.apply(_2,_53.slice(1));else if(_53[0]==='newPageView')_2._423.apply(_2,_53.slice(1));else _743=false;if(_743)delete _3._mfq[_39]}}};this._31=function(){_3._mfq=new _112(_3._mfq)};this._744=function(){_3._mfq.push.apply(_3._mfq,arguments)};this._1120=function(){return _3._mfq};function _112(_408){if(!_408)_408=[];var _33=this;_16._48(function(){for(var _39=0;_39<_408.length;_39++)_33.push(_408[_39])},1)}_112.prototype.push=function(_53){if(!_53)return;try{if(typeof _53==='object'&&_53.length){_3.mouseflow[_53.slice(0,1)].apply(_3.mouseflow,_53.slice(1))}else if(typeof _53==='function'){_53(_3.mouseflow)}}catch(error){var _513='Failed to execute item on action queue';var _771=_24._115(_53);if(_771)_513+='\n'+_771;_513+='\n'+error;_5(_513)}}}function _1119(_22,_24){var _496=[];var _1106=['target','button','pageX','pageY','which','data','origin','source','touches','key','clientX','clientY'];function _889(_20,_6,_47,_495,_13){var _179=!!_13._179;var _774=function(_9){var _279=[];if(_9.composedPath&&((_9.target&&_9.target.shadowRoot)||_47))_279=_9.composedPath();var _772=_9;_9=_1108(_9);_9.preventDefault=function(){_772.preventDefault()};_9.stopPropagation=function(){_772.stopPropagation()};if(_9.target&&_9.target.shadowRoot&&_279.length)_9.target=_279[0];if(_47){_9.delegatedTarget=_776(function(_42,_8){return _279.length?_279[_8]:(_42?_22._74(_42):_9.target)},_47);if(!_9.delegatedTarget&&!_13._1118)return;if(_13._773&&_9.target!==_9.delegatedTarget)return}else if(_13._773&&_9.target!==_20){return}if(_13._1174)_9.preventDefault();if(_13._1171)_9.stopPropagation();_495.apply(this,arguments)};_20.addEventListener(_6,_774,{capture:_179});_496.push({_20:_20,_6:_6,_495:_774,_179:_179})}function _1108(_9){var _775={};_1106.forEach(function(_11){if(_9[_11]!=undefined)_775[_11]=_9[_11]});return _775}function _887(){_496.forEach(function(_55){_55._20.removeEventListener(_55._6,_55._495,{capture:_55._179})});_496=[]}function _776(_777,_47,_20,_39){if(!_39)_39=0;_20=_777(_20,_39);if(!_20||!_47)return null;if(_24._105(_20,_47))return _20;return _776(_777,_47,_20,++_39)}this._176=function(_20,_6,_47,_43,_13){if(typeof _47==='function'){_13=_43;_43=_47;_47=null}_889(_20,_6,_47,_43,_13||{})};this._888=_887}function _760(_2,_24){function _546(_163,_274){if(!_163||!_163.length)return true;_163=_163.filter(function(_66){return _66&&_66._23&&_66._4});var _778=_163.filter(function(_66){return _66._23.indexOf('not')!==0});var _883=_778.length===0||_778.some(function(_66){return _252(_66,_274)});var _779=_163.filter(function(_66){return _66._23.indexOf('not')===0});var _884=_779.length===0||_779.every(function(_66){return _252(_66,_274)});return _884&&_883}function _252(_66,_274){const _73=_2.path||_2.location.pathname;const _119=_2.includeHashInPath?_2.location.hash:'';const _109=_2.includeQueryStringInPath?_2.location.search:'';const _25=(_73+_109+_119).toLowerCase();const _780=_274?.toLowerCase();const _882=_274&&_780===_66._4?.toLowerCase();let _529=_882?_556(_66,_780):_556(_66,_25);if(!_529&&_2.crossDomainSupport)_529=_556(_66,_2.location.hostname+_25);return _529}function _556(_66,_25){const _23=(_66._23||'').toLowerCase();const _4=(_66._4||'').toLowerCase();const _377=_24._388(_25,'/');const _378=_24._388(_4,'/');const _880={equals:()=>_377===_378,startswith:()=>_25.startsWith(_4),endswith:()=>_377.endsWith(_378),regex:()=>new RegExp(_4).test(_25),contains:()=>_25.includes(_4),notequals:()=>_377!==_378,notstartswith:()=>!_25.startsWith(_4),notendswith:()=>!_377.endsWith(_378),notcontains:()=>!_25.includes(_4)};return _880[_23]?.()??true}this._546=_546;this._252=_252}function _879(_3,_70,_116,_533,_534,_544){const _67=_3.location;const _14=_3.document;const _877=URL.parse??_552;function _552(_15){var _105=(_15||'').match(/^(([^:]+:)?\/?\/?(([^:/?#]+)?:?(\d+)?))(\/.*?)?(\?.*?)?(#.*)?$/);return{href:_105[0]||'',origin:_105[1]||'',protocol:_105[2]||'',host:_105[3]||'',hostname:_105[4]||'',port:_105[5]||'',pathname:_105[6]||'',search:_105[7]||'',hash:_105[8]||''}}function _782(_876){if(_544)return'';const _15=_877(_876);return _15?.protocol&&_15?.origin?_15.origin:''}this.debug=_3.mouseflowDebug||_67.search.indexOf('mf_debug=1')!==-1;this.includeDebugTime=false;this.forceStart=_67.search.indexOf('mf_force=1')!==-1;this.autoStart=_3.mouseflowAutoStart!==false&&_67.search.indexOf('mf_autostart=0')===-1;this.enableBots=false;this.touchEvents=!_3.mouseflowDisableTouch;this.htmlDelay=_3.mouseflowHtmlDelay||1000;this.newPageViewHtmlDelay=_3.mouseflowNewPageViewHtmlDelay||500;this.compress=_3.mouseflowCompress!==false&&_67.search.indexOf('mf_compress=0')===-1;this.compressFunction=null;this.autoTagging=_3.mouseflowAutoTagging!==false;this.path=_3.mouseflowPath;this.forcePath=false;this.crossDomainSupport=!!_3.mouseflowCrossDomainSupport;this.location=_552(_3.mouseflowHref||_67.href);this.hasCustomHref=!!_3.mouseflowHref;this.referrer=_782(_3.mouseflowReferrer!==undefined?_3.mouseflowReferrer:_14.referrer);this.htmlFetchMode=_3.mouseflowHtmlFetchMode||'post';this.sessionId=_3.mouseflowSessionId;this.honorDoNotTrack=_3.mouseflowHonorDoNotTrack||_534;this.gdprEnabled=_3.mouseflowForceGdpr||_533;this.keyLogging=!_3.mouseflowDisableKeyLogging&&!this.gdprEnabled;this.domReuse=!_3.mouseflowDisableDomReuse;this.domDeduplicator=!_3.mouseflowDisableDomDeduplicator;this.includeSubDomains=!_3.mouseflowExcludeSubDomains;this.registerSubmitTimeout=_3.mouseflowRegisterSubmitTimeout||2000;this.useUnload=!!_3.mouseflowUseUnload;this.replaceLastFormValues=_3.mouseflowReplaceLastFormValues||!this.keyLogging||this.gdprEnabled;this.useAllHoverSelectors=!!_3.mouseflowUseAllHoverSelectors;this.enableCssRecording=!!_3.mouseflowEnableCssRecording;this.secureCookie=!!_3.mouseflowSecureCookie;this.enableSpa=true;this.includeHashInPath=false;this.includeQueryStringInPath=false;this.autoTagPayments=true;this.preferStorageApi=!!_3.mouseflowPreferStorageApi;this.domMutationDetectorEnable=_3.domMutationDetectorEnable!==undefined?_3.domMutationDetectorEnable:false;this.domMutationUseParentNode=_3.domMutationUseParentNode!==undefined?_3.domMutationUseParentNode:true;this.domMutationUsePreviousSibling=_3.domMutationUsePreviousSibling!==undefined?_3.domMutationUsePreviousSibling:false;this.domMutationCountThreshold=_3.domMutationCountThreshold!==undefined?_3.domMutationCountThreshold:20;this.domMutationTimeThresholdInSeconds=_3.domMutationTimeThresholdInSeconds!==undefined?_3.domMutationTimeThresholdInSeconds:10;this.liveHeatmapsEnabled=false;this.privacyToolEnabled=false;this.taggerToolEnabled=false;this.useIdSelectors=_3.mouseflowUseIdSelectors!==undefined?_3.mouseflowUseIdSelectors:true;this.useSelectorGenerator=_3.mouseflowUseSelectorGenerator!==undefined?_3.mouseflowUseSelectorGenerator:false;this.proxyAttachShadow=true;this.scrollSelector=_3.mouseflowScrollSelector;this.autoScrollSelector=_3.mouseflowAutoScrollSelector||false;this.freezeElementIds=[];this.proxyValueSetter=false;this.decodePathName=false;this.forms=_3.mouseflowFormsConfiguration||null;this.notFoundIdentifiers=_3.mouseflowNotFoundIdentifiers||["Not Found","404"];this.debugDeadClick=_67.search.indexOf('mf_debugDeadClick=1')!==-1;this.enableDeadClick=true;this.enableDataLayerCapture=!!_3.mouseflowEnableDataLayerCapture;this._446=function(){const _225=typeof _3.name==='string'&&_3.name.startsWith('mf_')?_3.name.slice(3).split('_'):[];if(`${_225[0]}_${_225[3]}`==='liveHeatmaps_v3'){this.liveHeatmapsV3Enabled=true;_116._108('mf_liveHeatmaps_version','v3')}else if(_116._130('mf_liveHeatmaps_version')==='v3'){this.liveHeatmapsV3Enabled=true}if(!!_3.opener&&_67.search.indexOf('mf_liveHeatmaps')!==-1){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_67.search.indexOf('mf_inspect')!==-1){this.privacyToolEnabled=true;return}if(!!_3.opener&&_225[0]==='liveHeatmaps'){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_225[0]==='privacyTool'){this.privacyToolEnabled=true;return}if(`${_225[0]}_${_225[1]}`==='tagger_tool'){this.taggerToolEnabled=true;return}if(!_70._781())return;if(_3.opener){if(_70._130('mf_privacyTool'))this.privacyToolEnabled=true;else if(_70._130('mf_liveHeatmaps')){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true}}};this._423=function(_25,_67){this._355('href',_3.location.href);this.path=undefined;if(_25)this.path=_25.toString();if(_67){this.location=_67;this.hasCustomHref=true}};this._355=function(_11,_4){if(_11[0]==='_')return;switch(_11){case'href':this.location=_552(_4);this.hasCustomHref=_4!==_3.location.href;break;case'keyLogging':this.keyLogging=this.keyLogging&&_4;break;case'gdprEnabled':this.gdprEnabled=this.gdprEnabled||_4;break;case'freezeElementIds':this.freezeElementIds=Array.isArray(_4)?_4:[''+_4];break;case'referrer':this.referrer=_782(_4);break;case'hasCustomHref':break;default:this[_11]=_4;break}}}function _915(_3,_22){const _379='mf-root';let _783,_205;_233(_3);function _233(_250){_783=_250;_205=_250.document;_22._233(_250)}function _435(){if(!_205.body)return null;const _84=_892();if(!_893())_459();return _84}function _230(){const _82=_435();const _84=_82?.shadowRoot.getElementById('mouseflow');return _84}function _437(){const _84=_785();if(!_84)return;const _784=_783.getComputedStyle(_205.body);const _449=parseInt(_784.marginTop)+parseInt(_784.paddingTop);if(_449){_84.style.top=`${_449 * -1}px`;_84.style.height=`calc(100% + ${_449}px)`;_84.style.left='0px';_84.style.width='100%'}}function _785(){return _205.getElementsByTagName(_379)[0]}function _892(){const _84=_785()??_205.createElement(_379);if(!_84.id)_84.id='mouseflow';if(_84.innerHTML?.trim()==='')_84.innerHTML=_908();if(!_205.contains(_84))_205.body.appendChild(_84);_437();return _84}function _893(){return!!_22._968(_379)}function _459(){_22._459(_379,class extends _22._298('HTMLElement'){connectedCallback(){const _207=this.shadowRoot??this.attachShadow({mode:'open'});if(_207.getElementById('mouseflow'))return;_207.innerHTML=('<div id="mouseflow">'+'<style type="text/css">'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+':host {'+'all: initial;'+'font: 400 14px/1.4 "Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'.load-font {'+'position: absolute;'+'visibility: hidden;'+'width: 0px;'+'height: 0px;'+'overflow: hidden;'+'}'+'* {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'.mf-is-hidden {'+'display: none;'+'}'+'</style>'+'<div class="load-font">load font</div>'+'<slot />'+'</div>')}})}function _908(){return('<style type="text/css">'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+'#mouseflow,'+'mf-root {'+'all: initial;'+'font: 400 14px/1.4 "Mouseflow Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'#mouseflow *,'+'mf-root * {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'#mouseflow .mf-is-hidden,'+'mf-root .mf-is-hidden {'+'display: none;'+'}'+'</style>')}this._233=_233;this._435=_435;this._230=_230;this._437=_437}function _905(_3,_22){this._48=function(){return _22._215(_3,'setTimeout').apply(_3,arguments)};this._145=function(){return _22._215(_3,'setInterval').apply(_3,arguments)};this._166=function(){_22._215(_3,'clearTimeout').apply(_3,arguments)};this._101=function(){_22._215(_3,'clearInterval').apply(_3,arguments)}}function _871(_3,_96,_412,_22){var _14=_3.document;function _147(_0,_87){var _160=_0.classList;if(_160&&_87)return _160.contains(_87);var _149=_258(_0);return _149.indexOf(_87)!==-1}function _477(_0,_87){var _160=_0.classList;if(_160&&_87){_0.classList.add(_87);return}var _149=_258(_0);if(_149.indexOf(_87)===-1)_149.push(_87);_0.className=_149.join(' ')}function _478(_0,_87){var _160=_0.classList;if(_160&&_87){_0.classList.remove(_87);return}var _149=_258(_0);var _39=_149.indexOf(_87);if(_39!==-1)_149.splice(_39,1);_0.className=_149.join(' ')}function _769(_0,_87,_440){if(_440===undefined)_440=!_147(_0,_87);if(_440){_477(_0,_87)}else{_478(_0,_87)}}function _258(_0){var _786=typeof _0.className==='string'?_0.className.replace(/\s+/g,' ').trim():'';return _786!==''?_786.split(' '):[]}function _480(){return _96.max((_14.body||{}).scrollHeight||0,(_14.body||{}).offsetHeight||0,_14.documentElement.scrollHeight||0,_14.documentElement.offsetHeight||0,_14.documentElement.clientHeight||0)}function _467(){var _224=null;var _903=_14.body.scrollHeight;_14.querySelectorAll('body *').forEach(function(_42){if(_42.tagName==='LINKBAR-CONTAINER')return;if(!_224)_224=_42;if(_224.scrollHeight<_42.scrollHeight)_224=_42});return _224.scrollHeight>_903?_224:null}function _451(_2){if(!_2.autoScrollSelector)return _14.querySelector(_2.scrollSelector);return _467()}function _47(_51,_902){var _29=[];if(!_51)return _29;for(var _8=0;_8<_51.length;_8++){if(_902(_51[_8],_8))_29.push(_51[_8])}return _29}function _257(_157){var _8=Math.floor(Math.log(_157)/Math.log(1024));return(_157/Math.pow(1024,_8)).toFixed(2)*1+' '+['B','KB','MB','GB','TB'][_8]}function _768(_318){var _381=_318.length;while(_381){var _8=_96.floor(_96.random()*_381--);var _901=_318[_381];_318[_381]=_318[_8];_318[_8]=_901}}function _755(_41){if(!_41)return _41;return _41.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function _484(_41){if(!_41)return _41;return _41.replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,'<').replace(/&gt;/g,'>')}function _485(url){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(url.trim())}function _745(_41){return _41.replace(/\[([^\]]+)\]\(([^)]+)\)/g,function(_63,_899,_15){_15=_484(_15);return _485(_15)?'<a href="'+_15+'" target="_blank">'+_899+'</a>':_63})}function _746(_4){if(!_4)return _4;return _4.replace(/([^a-zA-Z\d-_])/g,'\\$1').replace(/^(-)?(\d)/,'$1\\3$2 ')}function _288(_4){return _4?_412.parse(_4):undefined}function _115(_4){var _29;if(Array.prototype.toJSON){var _894=Array.prototype.toJSON;delete Array.prototype.toJSON;_29=_412.stringify(_4);Array.prototype.toJSON=_894}else if(_4){_29=_412.stringify(_4)}return _29}function _747(_872,_891){var _241=_387(_872);var _41=_387(_891);var _210=_96.max(_241.length,_41.length);if(_41=='NaN'||_241=='NaN'){return false}for(var _8=0;_8<_210;_8++){_241[_8]=_241[_8]||0;_41[_8]=_41[_8]||0;if(_241[_8]==_41[_8]){continue}return _241[_8]>_41[_8]}return true}function _387(_870){var _787=_870.split('.');var _788=[];for(var _8=0;_8<_787.length;_8++){_788.push(parseInt(_787[_8]))}return _788}function _388(_41,_852){var _29=_41;while(_29[_29.length-1]===(_852||' '))_29=_29.slice(0,-1);return _29}function _748(_383){var _63;var _109=/([^?&=]+)(?:=([^&]*))?/g;var _789={};while((_63=_109.exec(_383))!==null){var _11=_63[1];var _4=_63[2]?window.decodeURIComponent(_63[2].replace(/\+/g,' ')):null;_789[_11]=_4}return _789}const platformRegexes=[{family:'windows',regex:[/microsoft (windows) (vista|xp)/i,/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[/]?([\d.\w]*)/i,/(windows)[/]?([ntce\d.]+\w)(?!.+xbox)/i,/(win(?=3|9|n)|win 9x )([nt\d.]+)/i]},{family:'ios',regex:[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[/])([\d.]+)/i,/cfnetwork\/.+darwin/i]},{family:'macos',regex:[/(mac os x) ?([\w. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i]},{family:'android',regex:[/droid ([\w.]+)\b.+android[- ]x86/i,/(android)[-/]?([\w.]*)/i]},{family:'linux',regex:[/\b(joli|palm)\b ?(?:os)?\/?([\w.]*)/i,/(mint)[/()]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-/]?(?!chrom|package)([-\w.]*)/i,/(hurd|linux) ?([\w.]*)/i,/(gnu) ?([\w.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[/]?(?!amd|[ix346]{1,2}86)([\w.]*)/i,/(haiku) (\w+)/i]}];const browserRegexes=[{browser:'chrome',regex:[/\b(?:crmo|crios)\/([\w.]+)/i]},{browser:'edge',regex:[/edg(?:e|ios|a)?\/([\w.]+)/i]},{browser:'opera',regex:[/(opera mini)\/([-\w.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w.]+)/i,/(opera)(?:.+version\/|[/]+)([\w.]+)/i,/opios[/]+([\w.]+)/i,/\bopr\/([\w.]+)/i]},{browser:'ie',regex:[/(?:ms|\()(ie) ([\w.]+)/i,/trident.+rv[: ]([\w.]{1,9})\b.+like gecko/i]},{browser:'firefox',regex:[/\bfocus\/([\w.]+)/i,/fxios\/([\w.-]+)/i,/(?:mobile|tablet);.*(firefox)\/([\w.-]+)/i,/mobile vr; rv:([\w.]+)\).+firefox/i,/(firefox)\/([\w.]+)/i]},{browser:'opera',regex:[/\bopt\/([\w.]+)/i,/coast\/([\w.]+)/i]},{browser:'samsung',regex:[/(samsung)browser\/([\w.]+)/i]},{browser:'chrome',regex:[/ wv\).+(chrome)\/([\w.]+)/i,/chrome\/([\w.]+) mobile/i,/(chrome)\/v?([\w.]+)/i]},{browser:'android',regex:[/droid.+ version\/([\w.]+)\b.+(?:mobile safari|safari)/i]},{browser:'safari',regex:[/version\/([\w.,]+) .*mobile(?:\/\w+ | ?)safari/i,/iphone .*mobile(?:\/\w+ | ?)safari/i,/version\/([\w.,]+) .*(safari)/i,/webkit.+?(mobile ?safari|safari)(\/[\w.]+)/i]}];function _749(_791){var _793;var _770;for(let _8=0;_8<platformRegexes.length;_8++){var _790=platformRegexes[_8];let _63=_790.regex.find(function(_424){return _424.test(_791)});if(_63){_770=_790.family;break}}for(let _8=0;_8<browserRegexes.length;_8++){var _792=browserRegexes[_8];let _63=_792.regex.find(function(_424){return _424.test(_791)});if(_63){_793=_792.browser;break}}return{browser:_793,os:_770}}function _105(_0,_18){if(_0.nodeType!==1)return false;if(_0.msMatchesSelector)return _0.msMatchesSelector(_18);if(_0.matches)return _0.matches(_18);return false}function _220(_42,_472){var _99=_22._74(_42);return _99&&_99.hasAttribute&&_99.hasAttribute(_472)}function _475(ipaddress){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress)){return(true)}return(false)}function _333(_41,_2){if(_475(_41.hostname)||!_2.includeSubDomains)return _41.hostname;var _27=_41.href;var _867=/\.co\.|\.com\.|\.ac\.|\.org\.|\.gov\.|\.edu\.|\.net\./;_27=_27.replace(/^http(s)?:\/\/?/i,'').replace(/^([^/]+)\/.*/i,'$1').replace(/:[\d]*$/,'');if(_867.test(_27))_27=_27.replace(/^([^.]+\.){1,}([^.]+\.[^.]+\.[^.]+)$/i,'$2');else _27=_27.replace(/^([^.]+\.){1,}([^.]+\.[^.]+)$/i,'$2');return'.'+_27}this._333=_333;this._475=_475;this._147=_147;this._477=_477;this._478=_478;this._769=_769;this._258=_258;this._480=_480;this._47=_47;this._257=_257;this._768=_768;this._755=_755;this._484=_484;this._485=_485;this._745=_745;this._746=_746;this._288=_288;this._115=_115;this._747=_747;this._387=_387;this._388=_388;this._105=_105;this._220=_220;this._748=_748;this._749=_749;this._467=_467;this._451=_451}function _974(_3,_5){const _993=_3.Object;let _393;let _150,_392,_62,_174;this._233=function(_250){_150=_250;_392=_250.document;_62={}};this._233(_3);this._298=function(_30){const _249=_150[_30];const _750=`function ${_30}() { [native code] }`;let _34=_249;try{while(_62[_30]===undefined){if(!_34){_34=_434(_30);_62[_30]=_34;_466(_30,_34);break}else if(_391(_34)===_750){_62[_30]=_34;break}else if(_391(_34.prototype?.constructor)===_750){_62[_30]=_34.prototype.constructor;break}else{_34=Object.getPrototypeOf(_34)}}}catch(e){_5(e)}return _62[_30]??_249};this._445=function(_30,_103){const _249=_150[_30];const _972=`function ${_103}() { [native code] }`;const _216=`${_30}.${_103}`;try{if(_62[_216]===undefined){let _34=this._298(_30).prototype;let _124=this._215(_34,_103);if(_391(_124)!==_972){_62[_30]=_434(_30);_34=_62[_30].prototype;_124=_34[_103];_466(_30,_34)}_62[_216]=_124}}catch(e){_5(e)}return _62[_216]??_249[_103]};this._246=function(_30,_138,_139){const _249=_150[_30];const _971=`function ${_139} ${_138}() { [native code] }`;const _216=`${_30}.${_138}.${_139}`;try{if(_62[_216]===undefined){let _34=this._298(_30).prototype;let _132=_390(_34,_138,_139);if(_391(_132)!==_971){_62[_30]=_434(_30);_34=_62[_30].prototype;_132=_390(_34,_138,_139)??_132;_466(_30,_34)}_62[_216]=_132}}catch(e){_5(e)}return _62[_216]??_390(_249,_138,_139)};this._215=function(_20,_21){let _751;if(_3.Zone?.__symbol__)_751=_20[_3.Zone.__symbol__(_21)];return _751||_20[_21]};function _390(_34,_138,_139){return Object.getOwnPropertyDescriptor(_34,_138)[_139]}this._481=function(_30,_103,_314){const _124=this._445(_30,_103);const _78=Array.from(arguments).slice(3);return _124.apply(_314,_78)};this._459=function(_21,_969){this._481('CustomElementRegistry','define',_150.customElements,_21,_969)};this._968=function(_21){return this._481('CustomElementRegistry','get',_150.customElements,_21)};function _434(_30){if(!_174){_174=_392.createElement('iframe');_174.style.display='none';_174.style.width='0';_174.style.height='0';_174.style.position='absolute';_392.body.appendChild(_174)}const _34=_174.contentWindow[_30];return _34}function _466(_30,_34){for(const _11 in _62){const _243=_11.split('.');if(_243[0]!==_30)continue;if(_243.length===2){const _124=_34[_243[1]];if(_124)_62[_11]=_124}else if(_243.length===3){const _132=_390(_34,_243[1],_243[2]);if(_132)_62[_11]=_132}}}function _391(_4){return _4?.toString().replace(/\s+/g,' ')}this._74=function(_0){const _967=this._246('Node','parentNode','get');return _0?_967.apply(_0):null};this._752=function(_0){const _966=this._246('Node','nextSibling','get');return _0?_966.apply(_0):null};this._962=function(_0){const _913=this._246('Node','firstChild','get');return _0?_913.apply(_0):null};this._165=function(_0){const _960=this._246('Node','childNodes','get');return _0?_960.apply(_0)??[]:[]};this._958=function(_0){const _956=this._246('Node','parentElement','get');return _0?_956.apply(_0):null};this._975=function(_0){return this._481('Node','getRootNode',_0)};this._976=function(_0){if(!_0)return false;if(_393===undefined){try{_393=_392.createElement('div').attachShadow({mode:'open'}).constructor}catch{_393=_150.ShadowRoot}}let _34=_0;let _4=null;while(_4===null){_34=_993.getPrototypeOf(_34);if(!_34||_34.constructor===_150.DocumentFragment)_4=false;if(_34&&_34.constructor===_393)_4=true}return _4};this._991=function(){if(!this._987('XMLHttpRequest')||!this._753('XMLHttpRequest','open')||!this._753('XMLHttpRequest','send')){return new _150.XMLHttpRequest()}const _990=this._298('XMLHttpRequest');const _61=new _990();this._754(_61,'XMLHttpRequest','open');this._754(_61,'XMLHttpRequest','send');return _61};this._987=function(_30){this._298(_30);return!!_62[_30]};this._753=function(_30,_103){this._445(_30,_103);return!!_62[`${_30}.${_103}`]};this._1170=function(_30,_138,_139){this._246(_30,_138,_139);return!!_62[`${_30}.${_138}.${_139}`]};this._754=function(_314,_30,_103){const _124=this._445(_30,_103);if(_124!==_314[_103])_314[_103]=_124.bind(_314)}}function _758(_3,_22,_400,_2,_5){const _14=_3.document;const _756=' :document-fragment: ';const _159=new Map();const _439=['attribute','id','class','tag','nthoftype'];const _930=['.mf-*',/\[(?!data-mf-id=)/];const _929=['[data-mf-id=*]'];if(!_2.useIdSelectors)_439.splice(_439.indexOf('id'),1);this._519=function(_0){try{const _137=[];while(_0){const _18=[];let _46=_0.getRootNode?_0.getRootNode():_14;const _927=_925(_0)??_400.getCssSelector(_0,{root:_46,selectors:_439,blacklist:_930,whitelist:_929});_18.push(_927);_137.unshift(_18.join(' '));_0=_46.host}return _137.join(_756)}catch(_32){_32.message='Get CSS selector failed: '+_32.message;_5(_32)}return''};function _925(_0){return _159.size?_159.get(_0):null}function _1166(_0,_46){return _2.useIdSelectors&&_0.hasAttribute('id')?_400.getCssSelector(_0,{root:_46,selectors:['id']}):null}this._185=function(_18,_46){return _541(_18,_46||_14,(_42,_543)=>[_42.querySelector(_543)])[0]};this._759=function(_18,_46){return _541(_18,_46||_14,(_42,_543)=>_42.querySelectorAll(_543))};this._401=function(){if(!_2.freezeElementIds)return;const _33=this;for(let _18 of _2.freezeElementIds){try{const _167=_33._759(_18);for(const _17 of _167){if(_159.has(_17))return;if(_167.length>1)_18=_33._519(_17);_159.set(_17,_18)}}catch(_32){_32.message='Could not freeze element IDs: '+_32.message;_5(_32)}}};function _541(_18,_46,_767){const _92=[];try{for(const _923 of _18.split(',')){const _137=_923.split(_756,2);for(const _99 of _767(_46,_137[0])){if(_137[1]&&_99.shadowRoot){const _113=_541(_137[1],_99.shadowRoot,_767);for(const _79 of _113){_92.push(_79)}}else{_92.push(_99)}}}}catch(_32){_32.message='Could not get element from selector: '+_32.message;_5(_32)}return _92}function _1162(_0,_43){while(_0){if(!(_0 instanceof Element))break;if(_43(_0))return _0;_0=_22._74(_0)}return null}}function _918(_3,_16){var _757;this.proxyPushState=function(callback){var _506=_3.history;_757=_506.pushState;_506.pushState=function(){_16._48(callback,100);return _757.apply(_506,arguments)};_3.addEventListener('popstate',function(){_16._48(callback,100)})}}function _56(){return undefined}function _158(){return null}function _384(){return false}var _112=new _916(window,_16,_24,_2,_5);var _111=new _915(window,_22);var _76=new _922(_2,_530,_497);var _185=(typeof _758==='function')?new _758(window,_22,_400,_2,_5):{_519:_158,_185:_158,_759:_158,_401:_56};var _305=(typeof _760==='function')?new _760(_2,_24):{_252:_384};var _202=(typeof _951==='function')?new _951(window,_2,_111,_16,_24,_305,_55,_70,_5,_76):{_31:_56,_68:_56,_286:_56,_1167:_158,_950:_56,_1168:_56};var _443=(typeof _761==='function')?new _761(_22,_2):{_169:_384};var _766=new _947(window,_111,_22,_16,_24,_55,_2);var _341=_2.liveHeatmapsV3Enabled?new _946(window,_16,_2,_111,_24,_55,_76,_70):new _945(window,_16,_2,_111,_24,_55,_76,_70);var _765=new _942(window,_111,_16,_24,_55,_2,_76);var _49=_295?new _762(window,Math,_22,_2,_16,_24,_55,_76,_305,_70,_116,_202,_443,_5,_559,_299,_112,_185):null;_112._446();var _52=false;if(_2.privacyToolEnabled){_766._31(_38,_2._44,_2._337,_2._763,_2._460,_2._764,_5)}else if(_2.liveHeatmapsEnabled){var _164;if(_2.taggerToolEnabled){_164=function(_43){_765._31(_5,_38,true,_43)}}_341._31(_2._44,_5,_38,_164)}else if(_2.taggerToolEnabled){_765._31(_5,_38)}else if(_295){_49._334();_52=true}window.mouseflow={start:_52?_49._31:_56,stop:_52?_49._68:function(){if(_2.privacyToolEnabled)_766._68();else if(_2.liveHeatmapsEnabled)_341._68()},newPageView:_52?_49._385:function(_25,_67){_2._423(_25,_67);if(_2.liveHeatmapsEnabled)_341._504()},stopSession:_52?_49._419:_56,getSessionId:_52?_49._939:_158,getPageViewId:_52?_49._937:_158,tag:_52?_49._77:_56,star:_52?_49._537:_56,setVariable:_52?_49._538:_56,identify:_52?_49._509:_56,formSubmitAttempt:_52?_49._503:_56,formSubmitSuccess:_52?_49._282:_56,formSubmitFailure:_52?_49._402:_56,addFriction:_52?_49._123:_56,isRecording:_52?_49._172:_384,isReturningUser:_52?_49._936:_384,activateFeedback:_52?_49._286:_56,proxyAttachShadow:_52?_49._245:_56,recordingRate:_52?_49._180:_158,version:_52?_49._154:_158,lastUpdate:_52?_49._500:_158,isCreditCard:_52?_49._221:_56,pageNotFound:_52?_49._935:_56,websiteId:_2._44,gdprEnabled:_2.gdprEnabled,updateHeatmap:_341._504,getDisplayUrl:_76._120,config:function(){return arguments.length===1?_2[arguments[0]]:_2._355.apply(_2,arguments)},logConfig:function(){if(_2.debug)console.log(_2)},debug:function(){_2.debug=!_2.debug;console.log('MF: Debugging '+(_2.debug?'enabled':'disabled'))},createTreeMirrorClient:_295?_49._363:_56,deleteTreeMirrorClient:_295?_49._531:_56,addCustomEvent:_295?_49._474:_56,exclude:function(selector){if(!_2._337.includes(selector))_2._337.push(selector)}};if(_2.enableSpa)_559.proxyPushState(window.mouseflow.newPageView);if(!_52)_112._31()})()}